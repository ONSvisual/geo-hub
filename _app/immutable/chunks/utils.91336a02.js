import"./index.6ae84391.js";var H={},L={},F=34,P=10,U=13;function ne(_){return new Function("d","return {"+_.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function se(_,t){var n=ne(_);return function(r,e){return t(n(r),e,_)}}function K(_){var t=Object.create(null),n=[];return _.forEach(function(r){for(var e in r)e in t||n.push(t[e]=e)}),n}function b(_,t){var n=_+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function le(_){return _<0?"-"+b(-_,6):_>9999?"+"+b(_,6):b(_,4)}function ue(_){var t=_.getUTCHours(),n=_.getUTCMinutes(),r=_.getUTCSeconds(),e=_.getUTCMilliseconds();return isNaN(_)?"Invalid Date":le(_.getUTCFullYear())+"-"+b(_.getUTCMonth()+1,2)+"-"+b(_.getUTCDate(),2)+(e?"T"+b(t,2)+":"+b(n,2)+":"+b(r,2)+"."+b(e,3)+"Z":r?"T"+b(t,2)+":"+b(n,2)+":"+b(r,2)+"Z":n||t?"T"+b(t,2)+":"+b(n,2)+"Z":"")}function ce(_){var t=new RegExp('["'+_+`
\r]`),n=_.charCodeAt(0);function r(i,s){var m,f,h=e(i,function(E,w){if(m)return m(E,w-1);f=E,m=s?se(E,s):ne(E)});return h.columns=f||[],h}function e(i,s){var m=[],f=i.length,h=0,E=0,w,A=f<=0,g=!1;i.charCodeAt(f-1)===P&&--f,i.charCodeAt(f-1)===U&&--f;function x(){if(A)return L;if(g)return g=!1,H;var T,M=h,C;if(i.charCodeAt(M)===F){for(;h++<f&&i.charCodeAt(h)!==F||i.charCodeAt(++h)===F;);return(T=h)>=f?A=!0:(C=i.charCodeAt(h++))===P?g=!0:C===U&&(g=!0,i.charCodeAt(h)===P&&++h),i.slice(M+1,T-1).replace(/""/g,'"')}for(;h<f;){if((C=i.charCodeAt(T=h++))===P)g=!0;else if(C===U)g=!0,i.charCodeAt(h)===P&&++h;else if(C!==n)continue;return i.slice(M,T)}return A=!0,i.slice(M,f)}for(;(w=x())!==L;){for(var y=[];w!==H&&w!==L;)y.push(w),w=x();s&&(y=s(y,E++))==null||m.push(y)}return m}function o(i,s){return i.map(function(m){return s.map(function(f){return l(m[f])}).join(_)})}function a(i,s){return s==null&&(s=K(i)),[s.map(l).join(_)].concat(o(i,s)).join(`
`)}function u(i,s){return s==null&&(s=K(i)),o(i,s).join(`
`)}function d(i){return i.map(p).join(`
`)}function p(i){return i.map(l).join(_)}function l(i){return i==null?"":i instanceof Date?ue(i):t.test(i+="")?'"'+i.replace(/"/g,'""')+'"':i}return{parse:r,parseRows:e,format:a,formatBody:u,formatRows:d,formatRow:p,formatValue:l}}var fe=ce(","),de=fe.parse;function pe(_){for(var t in _){var n=_[t].trim(),r,e;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(e=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))me&&e[4]&&!e[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;_[t]=n}return _}const me=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function he(_){return _}function ye(_){if(_==null)return he;var t,n,r=_.scale[0],e=_.scale[1],o=_.translate[0],a=_.translate[1];return function(u,d){d||(t=n=0);var p=2,l=u.length,i=new Array(l);for(i[0]=(t+=u[0])*r+o,i[1]=(n+=u[1])*e+a;p<l;)i[p]=u[p],++p;return i}}function ge(_,t){for(var n,r=_.length,e=r-t;e<--r;)n=_[e],_[e++]=_[r],_[r]=n}function be(_,t){return typeof t=="string"&&(t=_.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return X(_,n)})}:X(_,t)}function X(_,t){var n=t.id,r=t.bbox,e=t.properties==null?{}:t.properties,o=Ee(_,t);return n==null&&r==null?{type:"Feature",properties:e,geometry:o}:r==null?{type:"Feature",id:n,properties:e,geometry:o}:{type:"Feature",id:n,bbox:r,properties:e,geometry:o}}function Ee(_,t){var n=ye(_.transform),r=_.arcs;function e(l,i){i.length&&i.pop();for(var s=r[l<0?~l:l],m=0,f=s.length;m<f;++m)i.push(n(s[m],m));l<0&&ge(i,f)}function o(l){return n(l)}function a(l){for(var i=[],s=0,m=l.length;s<m;++s)e(l[s],i);return i.length<2&&i.push(i[0]),i}function u(l){for(var i=a(l);i.length<4;)i.push(i[0]);return i}function d(l){return l.map(u)}function p(l){var i=l.type,s;switch(i){case"GeometryCollection":return{type:i,geometries:l.geometries.map(p)};case"Point":s=o(l.coordinates);break;case"MultiPoint":s=l.coordinates.map(o);break;case"LineString":s=a(l.arcs);break;case"MultiLineString":s=l.arcs.map(a);break;case"Polygon":s=d(l.arcs);break;case"MultiPolygon":s=l.arcs.map(d);break;default:return null}return{type:i,coordinates:s}}return p(t)}function we(_){return Math.abs(_=Math.round(_))>=1e21?_.toLocaleString("en").replace(/,/g,""):_.toString(10)}function O(_,t){if((n=(_=t?_.toExponential(t-1):_.toExponential()).indexOf("e"))<0)return null;var n,r=_.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+_.slice(n+1)]}function ke(_){return _=O(Math.abs(_)),_?_[1]:NaN}function Se(_,t){return function(n,r){for(var e=n.length,o=[],a=0,u=_[0],d=0;e>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),o.push(n.substring(e-=u,e+u)),!((d+=u+1)>r));)u=_[a=(a+1)%_.length];return o.reverse().join(t)}}function Ce(_){return function(t){return t.replace(/[0-9]/g,function(n){return _[+n]})}}var Ae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function G(_){if(!(t=Ae.exec(_)))throw new Error("invalid format: "+_);var t;return new $({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}G.prototype=$.prototype;function $(_){this.fill=_.fill===void 0?" ":_.fill+"",this.align=_.align===void 0?">":_.align+"",this.sign=_.sign===void 0?"-":_.sign+"",this.symbol=_.symbol===void 0?"":_.symbol+"",this.zero=!!_.zero,this.width=_.width===void 0?void 0:+_.width,this.comma=!!_.comma,this.precision=_.precision===void 0?void 0:+_.precision,this.trim=!!_.trim,this.type=_.type===void 0?"":_.type+""}$.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ve(_){e:for(var t=_.length,n=1,r=-1,e;n<t;++n)switch(_[n]){case".":r=e=n;break;case"0":r===0&&(r=n),e=n;break;default:if(!+_[n])break e;r>0&&(r=0);break}return r>0?_.slice(0,r)+_.slice(e+1):_}var re;function Te(_,t){var n=O(_,t);if(!n)return _+"";var r=n[0],e=n[1],o=e-(re=Math.max(-8,Math.min(8,Math.floor(e/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+O(_,Math.max(0,t+o-1))[0]}function Y(_,t){var n=O(_,t);if(!n)return _+"";var r=n[0],e=n[1];return e<0?"0."+new Array(-e).join("0")+r:r.length>e+1?r.slice(0,e+1)+"."+r.slice(e+1):r+new Array(e-r.length+2).join("0")}const J={"%":(_,t)=>(_*100).toFixed(t),b:_=>Math.round(_).toString(2),c:_=>_+"",d:we,e:(_,t)=>_.toExponential(t),f:(_,t)=>_.toFixed(t),g:(_,t)=>_.toPrecision(t),o:_=>Math.round(_).toString(8),p:(_,t)=>Y(_*100,t),r:Y,s:Te,X:_=>Math.round(_).toString(16).toUpperCase(),x:_=>Math.round(_).toString(16)};function Z(_){return _}var Q=Array.prototype.map,q=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Me(_){var t=_.grouping===void 0||_.thousands===void 0?Z:Se(Q.call(_.grouping,Number),_.thousands+""),n=_.currency===void 0?"":_.currency[0]+"",r=_.currency===void 0?"":_.currency[1]+"",e=_.decimal===void 0?".":_.decimal+"",o=_.numerals===void 0?Z:Ce(Q.call(_.numerals,String)),a=_.percent===void 0?"%":_.percent+"",u=_.minus===void 0?"−":_.minus+"",d=_.nan===void 0?"NaN":_.nan+"";function p(i){i=G(i);var s=i.fill,m=i.align,f=i.sign,h=i.symbol,E=i.zero,w=i.width,A=i.comma,g=i.precision,x=i.trim,y=i.type;y==="n"?(A=!0,y="g"):J[y]||(g===void 0&&(g=12),x=!0,y="g"),(E||s==="0"&&m==="=")&&(E=!0,s="0",m="=");var T=h==="$"?n:h==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",M=h==="$"?r:/[%p]/.test(y)?a:"",C=J[y],ae=/[defgprs%]/.test(y);g=g===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function V(c){var v=T,k=M,N,B,R;if(y==="c")k=C(c)+k,c="";else{c=+c;var W=c<0||1/c<0;if(c=isNaN(c)?d:C(Math.abs(c),g),x&&(c=ve(c)),W&&+c==0&&f!=="+"&&(W=!1),v=(W?f==="("?f:u:f==="-"||f==="("?"":f)+v,k=(y==="s"?q[8+re/3]:"")+k+(W&&f==="("?")":""),ae){for(N=-1,B=c.length;++N<B;)if(R=c.charCodeAt(N),48>R||R>57){k=(R===46?e+c.slice(N+1):c.slice(N))+k,c=c.slice(0,N);break}}}A&&!E&&(c=t(c,1/0));var I=v.length+c.length+k.length,S=I<w?new Array(w-I+1).join(s):"";switch(A&&E&&(c=t(S+c,S.length?w-k.length:1/0),S=""),m){case"<":c=v+c+k+S;break;case"=":c=v+S+c+k;break;case"^":c=S.slice(0,I=S.length>>1)+v+c+k+S.slice(I);break;default:c=S+v+c+k;break}return o(c)}return V.toString=function(){return i+""},V}function l(i,s){var m=p((i=G(i),i.type="f",i)),f=Math.max(-8,Math.min(8,Math.floor(ke(s)/3)))*3,h=Math.pow(10,-f),E=q[8+f/3];return function(w){return m(h*w)+E}}return{format:p,formatPrefix:l}}var Ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Le(_){return _&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_}var ie={exports:{}};(function(){var _,t,n,r,e,o=[].slice;_="a",e="an",n={0:{8:{_:e},9:{_:e},"-":{1:{1:{_:e}},4:{" ":{_},_:e},6:{"-":{_:e}},8:{_:e}}},1:{1:{0:{_},1:{_},2:{_},3:{_},4:{_},5:{_},6:{_},7:{_},8:{_},9:{_},_:e,".":{4:{_}}},8:{0:{0:{_:e},1:{_:e},2:{_:e},3:{_:e},4:{_:e},5:{_:e},6:{_:e},7:{_:e},8:{_:e},9:{_:e},_},1:{"-":{_}," ":{_}},2:{"-":{_}," ":{_}},3:{"-":{_}," ":{_}},4:{"-":{_}," ":{_}},5:{"-":{_}," ":{_}},6:{"-":{_}," ":{_}},7:{"-":{_}," ":{_}},8:{"-":{_}," ":{_}},9:{"-":{_}," ":{_}},_:e}},8:{0:{0:{x:{_}}},9:{0:{_}},_:e,",":{1:{_}}},"`":{a:{_:e}},"£":{8:{_:e}},"∞":{_:e},a:{" ":{_},b:{o:{u:{t:{"-":{_:e}},_}}},g:{a:{i:{_}}},l:{"-":{I:{_}},g:{u:{_}},t:{h:{_}}},m:{o:{n:{_}}},n:{" ":{_},d:{a:{_:e},e:{_:e},r:{_:e},_},o:{t:{_}},y:{w:{_}}},p:{r:{e:{_}}},r:{e:{" ":{_},":":{_}},t:{í:{_}}},_:e},A:{$:{_},A:{A:{_}},n:{d:{a:{l:{u:{c:{_}}}}}},r:{m:{a:{t:{_}}}},s:{t:{u:{r:{i:{a:{s:{_}}}}}}},t:{h:{l:{e:{t:{i:{_:e}}},o:{_:e},_}}},U:{$:{_},D:{_},S:{C:{_}}},_:e},Á:{_:e},á:{";":{_:e}},à:{_:e},Ä:{_:e},ā:{_:e},Å:{_:e},æ:{_:e},Æ:{n:{_},_:e},D:{ú:{n:{_}}},e:{".":{g:{_}},a:{c:{h:{" ":{_}}}},i:{t:{h:{e:{r:{" ":{_},".":{_}}}}}},l:{"-":{_},l:{a:{_}}},m:{p:{e:{z:{_}}}},n:{o:{u:{g:{_}}}},u:{p:{" ":{_:e}},_},w:{_},x:{i:{s:{t:{s:{_}}}}},_:e},E:{m:{p:{e:{z:{_}}}},n:{a:{m:{_}}},s:{p:{a:{d:{_:e}},e:{_:e},o:{_:e},_}},u:{l:{_:e},_},U:{R:{_}},_:e},é:{g:{_},t:{a:{_:e},u:{_:e},_},_:e},É:{_:e},f:{"-":{_:e}," ":{_:e},"/":{_:e},M:{_:e},p:{_:e},t:{_:e}},F:{0:{_:e},1:{_:e},2:{_:e},3:{_:e},4:{_:e},5:{_:e},6:{_:e},9:{_:e},"'":{_:e},"-":{_:e}," ":{_:e},'"':{_:e},"#":{_:e},",":{_:e},".":{_:e},"/":{_:e},"”":{_:e},A:{C:{_},D:{_},I:{R:{_}},L:{_},M:{_},N:{_},P:{_},Q:{_},R:{_},S:{_},T:{_},_:e},B:{_:e},C:{_:e},c:{_:e},D:{_:e},E:{C:{_:e},I:{_:e}},F:{" ":{_},_:e},f:{_:e},h:{_:e},H:{_:e},I:{A:{T:{_},_:e},D:{" ":{_:e}},R:{" ":{_:e}},S:{" ":{_:e}}},K:{_:e},L:{C:{_:e},N:{_:e},P:{_:e}},M:{R:{_},_:e},O:{" ":{_:e},I:{" ":{_:e}}},P:{".":{_},"?":{_},C:{"?":{_}},_:e},R:{C:{_:e},S:{_:e}},S:{_:e},T:{S:{_},T:{_},_:e},U:{" ":{_:e},",":{_:e},".":{_:e}},V:{_:e},W:{D:{_},_:e},X:{_:e},Y:{_:e},σ:{_:e}},G:{h:{a:{e:{_:e},i:{_:e}}}},h:{"'":{_:e},"-":{U:{_},_:e}," ":{_:e},'"':{_:e},",":{_:e},C:{_:e},e:{i:{r:{a:{_},_:e}}},i:{m:{s:{_:e}},s:{t:{o:{r:{i:{c:{_}}}}}}},o:{m:{a:{_:e},m:{_:e}},n:{e:{y:{_}},k:{_},v:{_},_:e},r:{s:{" ":{_:e}}},u:{r:{_:e}}},t:{t:{p:{" ":{_:e}},_},_:e}},H:{1:{_:e},2:{_:e},3:{_:e},4:{_:e},5:{_:e},"'":{_:e},"-":{_:e}," ":{_:e},'"':{_:e},"&":{_:e},",":{_:e},".":{A:{_},_:e},"+":{_:e},a:{b:{i:{l:{i:{t:{a:{t:{i:{o:{n:{s:{_:e}}}}}}}}}}}},B:{_:e},C:{_:e},D:{B:{_},_:e},e:{i:{r:{_:e}}},F:{_:e},G:{_:e},H:{_:e},I:{D:{_},G:{_},M:{_},P:{_},_:e},L:{A:{"-":{D:{_}}},_:e},M:{_:e},N:{_:e},o:{n:{d:{_},e:{s:{_:e},_},g:{_},k:{_},o:{l:{_}},_:e},u:{r:{_:e}}},O:{" ":{_:e},V:{_:e}},P:{_:e},Q:{_:e},R:{T:{_},_:e},S:{" ":{_},R:{_},T:{_},_:e},T:{P:{_},_:e},V:{_:e},W:{T:{_:e}}},i:{".":{e:{_}},b:{n:{_}},f:{" ":{_}},i:{_},n:{c:{l:{u:{d:{i:{_}}}}},d:{i:{c:{a:{t:{e:{s:{_}}}}}}},s:{t:{e:{a:{d:{"?":{_:e}},_}}}}},s:{" ":{_},".":{_}},t:{" ":{_}},u:{_},_:e},I:{"-":{A:{_},I:{_}},I:{I:{_}},l:{b:{_}},M:{H:{_}},m:{a:{m:{s:{_}}}},R:{"£":{_}},s:{l:{a:{m:{" ":{_},",":{_},".":{_}},n:{d:{s:{_}}}}}},_:e},İ:{_:e},J:{i:{a:{n:{_},_:e}}},k:{u:{" ":{_:e}}},l:{" ":{_:e},'"':{_:e},p:{_:e}},L:{1:{_:e},2:{_:e},3:{_:e},5:{_:e},"'":{A:{_},_:e},"-":{a:{_},_:e}," ":{_:e},'"':{_:e},"&":{_:e},",":{_:e},".":{_:e},"/":{_:e},a:{e:{_:e},o:{i:{g:{_:e}}}},A:{" ":{_:e},L:{_:e},P:{_:e}},B:{_:e},C:{_:e},D:{_:e},E:{A:{_},E:{_},G:{_},O:{_},P:{_},T:{_},_:e},F:{_:e},G:{_:e},H:{_:e},I:{R:{_:e}},L:{_:e},M:{X:{_},_:e},N:{_:e},o:{c:{h:{a:{_:e}}}},O:{E:{_:e}},P:{_:e},R:{_:e},S:{_:e},T:{_:e},U:{" ":{_:e}},V:{_:e},X:{_:e},Z:{_:e}},m:{"-":{_:e}," ":{_:e},'"':{_:e},"&":{_:e},a:{k:{e:{s:{" ":{_:e}}}}},b:{_:e},e:{i:{n:{_:e}},n:{t:{i:{o:{n:{s:{_:e}}}}}}},f:{_:e},p:{_:e},R:{_:e},t:{_:e}},M:{1:{9:{0:{_:e},_},_:e},2:{_:e},3:{_:e},4:{_:e},5:{_:e},6:{_:e},7:{_:e},8:{_:e},9:{_:e},"'":{_:e},"-":{t:{_},_:e}," ":{_:e},'"':{_:e},"&":{_:e},",":{_:e},".":{A:{".":{S:{_}}},_:e},"/":{_:e},A:{C:{_},D:{_},F:{_},G:{_},J:{_},L:{_},M:{_},N:{_},P:{_},R:{_},S:{_},T:{_},X:{_},Y:{_},_:e},B:{_:e},C:{_:e},D:{_:e},e:{"-":{_:e}},E:{d:{_:e},n:{_:e},P:{_:e}},F:{_:e},f:{_:e},G:{_:e},H:{_:e},h:{_:e},i:{e:{_:e}},I:{5:{_:e},6:{_:e}," ":{_:e},A:{_:e},T:{_:e}},K:{_:e},L:{_:e},M:{T:{_},_:e},N:{_:e},o:{U:{_:e}},O:{" ":{_:e},T:{" ":{_:e}},U:{_:e}},P:{_:e},R:{_:e},S:{_:e},s:{c:{_:e}},T:{R:{_},_:e},U:{V:{_:e}},V:{_:e},X:{_:e}},N:{4:{_:e},6:{_:e},"'":{_:e},"-":{a:{_},S:{_},_:e}," ":{_:e},'"':{_:e},",":{_:e},".":{Y:{_},_:e},"=":{_:e},"²":{_:e},a:{o:{_:e}},A:{" ":{_:e},A:{F:{_},_:e},I:{_:e},S:{L:{_:e}}},B:{_:e},C:{_:e},D:{_:e},E:{A:{_:e},H:{_:e},S:{" ":{_:e}}},F:{_:e},G:{_:e},H:{_:e},I:{C:{_},L:{_},M:{H:{_:e},_},N:{_},S:{_},_:e},J:{C:{_:e}},K:{_:e},L:{S:{_},_:e},M:{_:e},N:{R:{_:e},T:{_:e}},P:{O:{V:{"-":{_:e}},_},_:e},R:{J:{_},T:{_},_:e},S:{W:{_},_:e},T:{$:{_},_:e},U:{S:{_:e}},V:{_:e},v:{_:e},W:{A:{_:e}},X:{_:e},Y:{P:{_:e},U:{_:e}}},n:{"-":{_:e},"−":{_:e}," ":{_:e},'"':{_:e},"&":{_:e},",":{_:e},"+":{_:e},"×":{_:e},d:{a:{_:e}},p:{a:{_:e}},t:{_:e},V:{_:e},W:{_:e}},o:{b:{r:{_}},c:{c:{u:{r:{s:{_}}}},h:{o:{_}}},f:{" ":{_}},n:{"-":{_:e},"/":{_:e},b:{_:e},c:{o:{_:e}},d:{_:e},e:{r:{_:e}},g:{_:e},i:{_:e},l:{_:e},m:{_:e},o:{_:e},r:{_:e},s:{_:e},t:{_:e},u:{_:e},w:{_:e},y:{_:e},_},r:{" ":{_},",":{_}},u:{i:{_}},_:e},O:{b:{e:{r:{s:{t:{" ":{_:e},l:{_:e}},_}}}},l:{v:{_}},n:{e:{i:{_:e},_}},N:{E:{_}},o:{p:{_}},u:{i:{_}},_:e},Ó:{_:e},Ö:{_:e},ö:{_:e},Ō:{_:e},ō:{_:e},P:{h:{o:{b:{_:e},i:{_:e}}}},r:{"'":{_:e},"-":{_:e}," ":{_:e},'"':{_:e},"&":{_:e},".":{_:e},e:{f:{e:{r:{s:{_:e}}}}},f:{_:e},m:{_:e},s:{_:e}},R:{1:{0:{_},_:e},2:{_:e},3:{_:e},4:{_:e},5:{_:e},6:{_:e},"'":{_:e},"-":{_:e}," ":{_:e},'"':{_:e},"&":{_:e},",":{_:e},".":{C:{_},_:e},"/":{_:e},A:{" ":{_:e},F:{_:e}},B:{_:e},C:{_:e},D:{_:e},E:{" ":{_:e},R:{_:e}},F:{_:e},f:{_:e},G:{_:e},H:{S:{_:e}},I:{A:{_:e},C:{" ":{_:e}}},J:{_:e},K:{_:e},L:{" ":{_},_:e},M:{1:{_},_:e},N:{G:{_},_:e},O:{T:{_:e}},P:{_:e},Q:{_:e},R:{_:e},S:{" ":{_},")":{_},",":{_},".":{_},"?":{_},T:{_},_:e},T:{_:e},U:{_:e},V:{_:e},X:{_:e}},s:{"-":{_:e},'"':{_:e},")":{_:e},",":{_:e},".":{_:e},a:{y:{s:{_:e}}},i:{c:{h:{_:e}}},p:{3:{_:e},r:{o:{t:{_:e}}}},s:{h:{_:e}},t:{a:{t:{e:{s:{" ":{_:e},":":{_:e}}}}}},v:{a:{_},e:{_},_:e}},S:{1:{_:e},2:{_:e},3:{_:e},4:{_:e},5:{_:e},6:{_:e},"'":{_:e},"-":{_:e}," ":{_:e},'"':{_:e},"&":{W:{_},_:e},",":{_:e},".":{B:{_:e},M:{_:e},O:{_:e}},"”":{_:e},A:{"-":{1:{_},_:e}," ":{_:e},C:{D:{_:e}},E:{_:e},S:{E:{_},_:e},T:{" ":{_:e},B:{_:e}}},B:{_:e},C:{A:{" ":{_:e}},C:{_:e},M:{_:e},O:{" ":{_:e}},R:{A:{_},_:e},T:{_:e}},D:{_:e},E:{" ":{_:e},C:{O:{_},R:{_},_:e},I:{_:e},O:{_:e}},F:{_:e},G:{_:e},H:{2:{_:e},3:{_:e},"-":{_:e}},I:{" ":{_:e}},J:{_:e},K:{_:e},L:{A:{_},I:{_},O:{_},_:e},M:{A:{_},E:{" ":{_:e},_},I:{_},_:e},N:{A:{_},E:{_},O:{_},_:e},O:{"(":{_:e},A:{" ":{_:e},I:{_:e}},E:{_:e},I:{_:e},S:{_:e},V:{_:e}},P:{A:{C:{_},D:{_},M:{_},N:{_},R:{_}},E:{" ":{_:e},_},I:{C:{_}},O:{_},U:{_},_:e},R:{_:e},S:{_:e},T:{"-":{_:e},A:{" ":{_:e}},B:{_:e},C:{_:e},D:{_:e},F:{_:e},L:{_:e},M:{_:e},S:{_:e},V:{_:e}},u:{r:{a:{" ":{_:e}}}},U:{B:{_},L:{_},N:{_},P:{_},S:{_},_:e},V:{_:e},W:{F:{_:e},P:{_:e},R:{_:e}},X:{S:{_},_:e}},t:{"-":{S:{_:e}},S:{_:e}},T:{a:{v:{e:{s:{_:e}}}},à:{_:e}},u:{"-":{_}," ":{_},'"':{_},".":{_},b:{e:{_:e},_},f:{_},k:{a:{_:e},_},l:{u:{_}},m:{" ":{_}},n:{" ":{_},a:{" ":{_},n:{a:{_:e},n:{_:e},s:{_:e},t:{_:e},_},r:{y:{_}}},e:{" ":{_}},i:{c:{o:{r:{p:{_:e}}}},d:{i:{_},_:e},m:{o:{_},_:e},n:{_:e},v:{o:{_:e}},_},l:{e:{s:{_}}}},p:{o:{_}},r:{a:{_},e:{_},i:{_},l:{_},o:{_}},s:{"-":{_:e}," ":{_:e},h:{_:e},_},t:{m:{_:e},t:{_:e},_},v:{_},w:{_},_:e},U:{1:{_:e},"-":{B:{o:{_},_:e}},a:{_:e},b:{i:{_},_:e},D:{P:{"-":{_:e}}},d:{_:e},g:{l:{_:e}},h:{_:e},i:{_:e},l:{i:{_},_:e},m:{_:e},M:{N:{_:e}},n:{"-":{_:e},a:{n:{_},_:e},b:{_:e},c:{_:e},d:{_:e},e:{s:{_},_:e},f:{_:e},g:{_:e},h:{_:e},i:{d:{_:e},n:{_:e}},k:{_:e},l:{_:e},m:{_:e},n:{_:e},o:{_:e},p:{_:e},r:{_:e},s:{_:e},t:{e:{r:{s:{_}}},_:e},u:{_:e},w:{_:e}},p:{_:e},r:{a:{_},i:{_},u:{g:{u:{a:{y:{a:{n:{"-":{_:e}}}}}}},k:{_:e},_},_:e},s:{h:{_:e},t:{_:e}},t:{n:{_:e},o:{"-":{_:e}},r:{_:e},t:{_:e}},x:{_:e},z:{_:e}},ü:{_:e},Ü:{_:e},V:{I:{I:{_:e}}},x:{a:{_},e:{_},i:{_},o:{_},x:{_},y:{_},_:e},X:{a:{_},A:{_},e:{_},h:{_},i:{_},I:{V:{_},X:{_}},o:{_},u:{_},U:{_},V:{_},X:{" ":{_:e},_},y:{_},_:e},Y:{p:{_:e}},α:{_:e},ε:{_:e},ω:{_:e}},r=function(a,u,d){var p;return u==null&&(u=n),d==null&&(d="a"),a==null?d:(p=a.slice(0,1),u=u[p],p!=null&&u!=null?r(a.slice(1),u,u._||d):d)},t=function(){var a,u,d;return u=1<=arguments.length?o.call(arguments,0):[],d=function(){var p,l,i;for(i=[],p=0,l=u.length;p<l;p++)a=u[p],a!=null&&i.push(r(a)+" "+a);return i}(),u.length===1?d[0]:d},ie.exports={find:r,articlize:t}}).call(Ne);var ee=ie.exports;Me({decimal:".",thousands:",",grouping:[3],currency:["£",""]}).format;function xe(_,t=null,n="default"){_==="East"&&(_="East of England"),_=_.replace("&","and").replace(", City of","").replace(", County of","");let r="",e=_.toLowerCase(),o=e.startsWith("isle"),a=["united kingdom","north east","north west","east midlands","west midlands","east of england","south east","south west","derbyshire dales"].includes(e)||e.startsWith("city of")||e.startsWith("vale of");return["in","the","its"].includes(t)&&(o||a)&&(r="the "),t==="in"?o?r="on "+r:r="in "+r:t==="its"&&(_=_+(_.slice(-1)==="s"?"'":"'s")),n==="default"?r+_:r.slice(0,-1)}function Pe(_){const t=Object.keys(_),n=t.map(e=>e.toLowerCase());for(let e of["hclnm","areanm","name","label","areacd"]){let o=n.indexOf(e);if(o>-1)return t[o]}let r=n.find(e=>e.toLowerCase().slice(-2)==="nm");return r||t[0]}function _e(_,t=null,n="default"){const r=Pe(_);return xe(_[r],t,n)}function Fe(_){return _[0]?_[0].toUpperCase()+_.slice(1):_}const Ue=(_,t="default")=>t==="default"?`${ee.find(_)} ${_}`:ee.find(_),je="https://www.ons.gov.uk/visualisations/areas",Re="https://ons-dp-prod-cdn.s3.eu-west-2.amazonaws.com/maptiles/ap-geos/v2",We={W04:{label:"community",plural:"communities",childGroup:!0},E06:{label:"unitary authority",plural:"unitary authorities"},W06:{label:"unitary authority",plural:"unitary authorities",childGroup:!0},E07:{label:"non-metropolitan district",plural:"non-metropolitan districts",childGroup:!0},E08:{label:"metropolitan district",plural:"metropolitan districts"},E09:{label:"borough",plural:"boroughs",childGroup:!0},E10:{label:"county",plural:"counties"},E11:{label:"metropolitan county",plural:"metropolital counties"},S12:{label:"council area",plural:"council areas",childGroup:!0},N09:{label:"local government district",plural:"local government districts",childGroup:!0}},Ge=["E00","W00","E01","W01","E02","W02","E04","W04","E05","W05"],$e=["E06","E07","E08","E09","E10","E12","E47","E92","N09","N92","S12","S92","W06","W92"],Ie=[{id:"uk",type:"geojson"},{id:"ctry",type:"geojson"},{id:"rgn",type:"geojson"},{id:"la",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2023/authorities-all/v1/boundaries/{z}/{x}/{y}.pbf",layer:"boundaries",minzoom:4},{id:"wpc",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2010/wpc/v2/boundaries/{z}/{x}/{y}.pbf",layer:"boundaries",minzoom:4},{id:"sener",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2022/sen/v1/boundaries/{z}/{x}/{y}.pbf",layer:"region"},{id:"senc",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2022/sen/v1/boundaries/{z}/{x}/{y}.pbf",layer:"constituency"},{id:"wd",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2023/wd/v1/boundaries/{z}/{x}/{y}.pbf",layer:"boundaries",minzoom:6},{id:"par",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2022/par/v1/boundaries/{z}/{x}/{y}.pbf",layer:"par",minzoom:6},{id:"msoa",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2021/msoa/v2/boundaries/{z}/{x}/{y}.pbf",layer:"msoa",minzoom:6},{id:"lsoa",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2021/lsoa/v2/boundaries/{z}/{x}/{y}.pbf",layer:"lsoa",minzoom:7},{id:"oa",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2021/oa/v2/boundaries/{z}/{x}/{y}.pbf",layer:"oa",minzoom:8}],j=_=>_.map(t=>["!",["in",t,["get","areacd"]]]),D=[{key:"uk",codes:["K02"],source:"uk"},{key:"ctry",codes:["E92","S92","N92","W92"],pcio:"country",label:"country",plural:"countries",source:"ctry"},{key:"rgn",codes:["E12"],pcio:"region",label:"region",plural:"regions",source:"rgn"},{key:"cauth",codes:["E06","E09","E10","E47","N09","S12","W06"],label:"upper-tier/combined authority",plural:"upper-tier/combined authorities",source:"la",filter:["all",...j(["E07","E08"]),["!",["==",["get","cauth"],"true"]]]},{key:"utla",codes:["E06","E08","E09","E10","N09","S12","W06"],pcio:"admin_county",label:"upper-tier/unitary authority",plural:"upper-tier/unitary authorities",source:"la",filter:["all",...j(["E07","E47"])]},{key:"ltla",codes:["E06","E07","E08","E09","N09","S12","W06"],pcio:"admin_district",label:"lower-tier/unitary authority",plural:"lower-tier/unitary authorities",source:"la",filter:["all",...j(["E10","E47"])]},{key:"wpc",codes:["E14","N06","S14","W07"],pcio:"parliamentary_constituency",label:"parliamentary constituency",plural:"parliamentary constituencies",source:"wpc"},{key:"sener",codes:["W10"],label:"Senedd electoral region",plural:"Senedd electoral regions",source:"sener"},{key:"senc",codes:["W09"],label:"Senedd constituency",plural:"Senedd constituencies",source:"senc"},{key:"wd",codes:["E05","W05"],pcio:"admin_ward",label:"ward",plural:"wards",source:"wd"},{key:"par",codes:["E04","W04"],pcio:"parish",label:"parish",plural:"parishes",source:"par"},{key:"msoa",codes:["E02","W02"],pcio:"msoa",label:"MSOA",plural:"MSOAs",source:"msoa"},{key:"lsoa",codes:["E01","W01"],pcio:"lsoa",label:"LSOA",plural:"LSOAs",source:"lsoa"},{key:"oa",codes:["E00","W00"],label:"output area",plural:"output areas",source:"oa"}],Ve=Ie.map(_=>({..._,layers:D.filter(t=>t.source===_.id)})),z=(()=>{let _={};return D.forEach(t=>t.codes.forEach(n=>{_[n]={...t};const r=We[n];r!=null&&r.childGroup&&(_[n].label=r.label,_[n].plural=r.plural)})),_})();(()=>{let _={};return D.forEach(t=>_[t.key]=t),_})();const Oe=(_,t=pe)=>de(_.replace(/\uFEFF/,""),t);async function Be(_,t=window.fetch){let r=await(await t(_)).text(),e=Oe(r),o=e.columns.filter(a=>{e[0][a]&&String(e[0][a]).includes("|")});return e.forEach((a,u)=>{o.forEach(d=>{a[d]=a[d].split("|")})}),e}function ze(_){let t=Array.from(new Set(_.sort((e,o)=>e.localeCompare(o)).map(e=>z[e]))).filter((e,o,a)=>a.map(u=>u.key).indexOf(e.key)===o);const n=["cauth","utla","ltla"].filter(e=>t.map(o=>o.key).includes(e));n.length>1&&(t=t.filter(e=>!n.slice(1).includes(e.key)));const r=D.map(e=>e.key);return t.sort((e,o)=>r.indexOf(e.key)-r.indexOf(o.key))}async function He(_,t=window.fetch){if(!_.match(/[EKNSW]\d{8}\b/))return{place:null,type:null,geometry:null};try{let n=_.slice(0,3),e=await(await t(`${Re}/${n}/${_}.json`)).json();return e.properties.childTypes=ze(e.properties.child_typecds),{place:e.properties,type:z[n],geometry:e.geometry}}catch(n){return console.debug(n),{place:null,type:null,geometry:null}}}const oe=(_,t)=>!t||(!_.start||t>_.start)&&(!_.end||t<=_.end);function te(_,t,n=null){var e;const r=[..._.parents];["E","W"].includes(_.areacd[0])&&r.push({areacd:"K04000001",areanm:"England and Wales"});for(const o of r){let a=o.areacd.slice(0,3);if(t.includes(a)&&oe(o,n))return o.groupcd=(e=z[a])!=null&&e.key?z[a].key:"ew",o}return null}function Ke(_,t){let n=[],r=[];return _.forEach(e=>{let o=te(t,e.geocodes,e.year);e.geocodes.includes(t.typecd)&&oe(t,e.year)?n.push({...e,place:t}):o&&r.push({...e,place:te(t,e.geocodes,e.year)})}),[...n,...r]}function Xe(_,t){const n=o=>{const a=t[o];return o==="groupcd"&&a==="ltla"?"lad":a};let r=_,e=_.match(new RegExp(/\{(.*?)\}/g));return Array.isArray(e)&&e.forEach(o=>{if(o.includes("name")){let a=o.slice(1,-1).split(",")[1];r=r.replace(o,`${_e(t,a,"prefix")} <strong>${_e(t)}</strong>`)}else r=r.replace(o,n(o.slice(1,-1)))}),r}function Ye(_){return`areas/${_}/`}function Je(_,t){const n=t.key==="msoa"?"hclnm":t.key==="oa"?"areacd":"areanm";return _.children.filter(r=>t.codes.includes(r.areacd.slice(0,3))).sort((r,e)=>r[n].localeCompare(e[n]))}function Ze(_,t){return be(_,t)}function Qe(_){return _[0].toUpperCase()+_.slice(1)}export{He as a,je as b,Fe as c,z as d,_e as e,Ke as f,Be as g,$e as h,te as i,Ve as j,Ze as k,Je as l,Ye as m,Ge as n,Ue as o,Xe as p,Ne as q,Le as r,D as s,We as t,Qe as u};
