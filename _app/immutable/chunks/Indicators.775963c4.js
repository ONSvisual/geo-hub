import{s as R,a as E,c as B,i as H,d as _,I as K,f as w,l as N,g as k,h as S,m as A,j as I,F as P,C as g,n as C}from"./scheduler.c3784ea9.js";import{S as W,i as X,b as L,d as j,m as q,a as p,t as v,e as D,g as M,c as O}from"./index.5556ea40.js";import{e as F}from"./Table.svelte_svelte_type_style_lang.c100c700.js";import{b as T}from"./paths.aca64cdc.js";import{h as Y,b as Z,I as Q}from"./Icon.13df5888.js";import{c as U}from"./index.aeb778ec.js";import{S as y}from"./Section.c78f060f.js";function V(o,t,l){const s=o.slice();return s[6]=t[l],s[8]=l,s}function z(o,t,l){const s=o.slice();return s[9]=t[l],s}function G(o){let t,l,s,i=o[9].label+"",n,r,e,c,m,a=o[9].subtitle+"",$,h;return e=new Q({props:{type:"chevron",margin:"4px 0 0"}}),{c(){t=w("li"),l=w("a"),s=w("span"),n=N(i),r=E(),L(e.$$.fragment),m=E(),$=N(a),this.h()},l(u){t=k(u,"LI",{});var f=S(t);l=k(f,"A",{href:!0,class:!0});var d=S(l);s=k(d,"SPAN",{});var b=S(s);n=A(b,i),b.forEach(_),r=B(d),j(e.$$.fragment,d),d.forEach(_),m=B(f),$=A(f,a),f.forEach(_),this.h()},h(){I(l,"href",c=T+"/datasets/"+o[9].code+"/"),I(l,"class","indicator-link")},m(u,f){H(u,t,f),g(t,l),g(l,s),g(s,n),g(l,r),q(e,l,null),g(t,m),g(t,$),h=!0},p(u,f){(!h||f&1)&&i!==(i=u[9].label+"")&&C(n,i),(!h||f&1&&c!==(c=T+"/datasets/"+u[9].code+"/"))&&I(l,"href",c),(!h||f&1)&&a!==(a=u[9].subtitle+"")&&C($,a)},i(u){h||(p(e.$$.fragment,u),h=!0)},o(u){v(e.$$.fragment,u),h=!1},d(u){u&&_(t),D(e)}}}function J(o){let t,l,s=U(o[6])+"",i,n,r,e;function c(...h){return o[4](o[6],...h)}let m=F(o[0].indicators.filter(c)),a=[];for(let h=0;h<m.length;h+=1)a[h]=G(z(o,m,h));const $=h=>v(a[h],1,1,()=>{a[h]=null});return{c(){t=w("div"),l=w("h3"),i=N(s),n=E(),r=w("ul");for(let h=0;h<a.length;h+=1)a[h].c();this.h()},l(h){t=k(h,"DIV",{});var u=S(t);l=k(u,"H3",{class:!0});var f=S(l);i=A(f,s),f.forEach(_),n=B(u),r=k(u,"UL",{class:!0});var d=S(r);for(let b=0;b<a.length;b+=1)a[b].l(d);d.forEach(_),u.forEach(_),this.h()},h(){I(l,"class","title-indicators"),I(r,"class","list-columns list-indicators"),P(t,"visuallyhidden",!(o[3]||!o[1]&&o[8]===0))},m(h,u){H(h,t,u),g(t,l),g(l,i),g(t,n),g(t,r);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(r,null);e=!0},p(h,u){if(o=h,(!e||u&1)&&s!==(s=U(o[6])+"")&&C(i,s),u&1){m=F(o[0].indicators.filter(c));let f;for(f=0;f<m.length;f+=1){const d=z(o,m,f);a[f]?(a[f].p(d,u),p(a[f],1)):(a[f]=G(d),a[f].c(),p(a[f],1),a[f].m(r,null))}for(M(),f=m.length;f<a.length;f+=1)$(f);O()}(!e||u&10)&&P(t,"visuallyhidden",!(o[3]||!o[1]&&o[8]===0))},i(h){if(!e){for(let u=0;u<m.length;u+=1)p(a[u]);e=!0}},o(h){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)v(a[u]);e=!1},d(h){h&&_(t),K(a,h)}}}function x(o){let t=o[1]&&o[3]?"Hide datasets":o[1]?"Show datasets":o[3]?"Show fewer datasets":`Show all ${o[0].indicators.length} datasets`,l,s,i,n;return i=new Q({props:{type:"chevron",rotation:o[3]?90:-90}}),{c(){l=N(t),s=E(),L(i.$$.fragment)},l(r){l=A(r,t),s=B(r),j(i.$$.fragment,r)},m(r,e){H(r,l,e),H(r,s,e),q(i,r,e),n=!0},p(r,e){(!n||e&11)&&t!==(t=r[1]&&r[3]?"Hide datasets":r[1]?"Show datasets":r[3]?"Show fewer datasets":`Show all ${r[0].indicators.length} datasets`)&&C(l,t);const c={};e&8&&(c.rotation=r[3]?90:-90),i.$set(c)},i(r){n||(p(i.$$.fragment,r),n=!0)},o(r){v(i.$$.fragment,r),n=!1},d(r){r&&(_(l),_(s)),D(i,r)}}}function ee(o){let t,l,s,i=F(o[0].topics),n=[];for(let e=0;e<i.length;e+=1)n[e]=J(V(o,i,e));const r=e=>v(n[e],1,1,()=>{n[e]=null});return l=new Z({props:{variant:"ghost",small:!0,$$slots:{default:[x]},$$scope:{ctx:o}}}),l.$on("click",o[5]),{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=E(),L(l.$$.fragment)},l(e){for(let c=0;c<n.length;c+=1)n[c].l(e);t=B(e),j(l.$$.fragment,e)},m(e,c){for(let m=0;m<n.length;m+=1)n[m]&&n[m].m(e,c);H(e,t,c),q(l,e,c),s=!0},p(e,c){if(c&11){i=F(e[0].topics);let a;for(a=0;a<i.length;a+=1){const $=V(e,i,a);n[a]?(n[a].p($,c),p(n[a],1)):(n[a]=J($),n[a].c(),p(n[a],1),n[a].m(t.parentNode,t))}for(M(),a=i.length;a<n.length;a+=1)r(a);O()}const m={};c&4107&&(m.$$scope={dirty:c,ctx:e}),l.$set(m)},i(e){if(!s){for(let c=0;c<i.length;c+=1)p(n[c]);p(l.$$.fragment,e),s=!0}},o(e){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)v(n[c]);v(l.$$.fragment,e),s=!1},d(e){e&&_(t),K(n,e),D(l,e)}}}function te(o){let t,l;return t=new y({props:{title:o[2],theme:"dark",background:"#003c57",width:"wide",marginTop:!0,$$slots:{default:[ee]},$$scope:{ctx:o}}}),{c(){L(t.$$.fragment)},l(s){j(t.$$.fragment,s)},m(s,i){q(t,s,i),l=!0},p(s,[i]){const n={};i&4&&(n.title=s[2]),i&4107&&(n.$$scope={dirty:i,ctx:s}),t.$set(n)},i(s){l||(p(t.$$.fragment,s),l=!0)},o(s){v(t.$$.fragment,s),l=!1},d(s){D(t,s)}}}function le(o,t,l){let{data:s}=t,{compact:i=!1}=t,{title:n="Find a dataset"}=t,r=!1;Y(()=>l(3,r=!1));const e=(m,a)=>a.topic===m,c=()=>l(3,r=!r);return o.$$set=m=>{"data"in m&&l(0,s=m.data),"compact"in m&&l(1,i=m.compact),"title"in m&&l(2,n=m.title)},[s,i,n,r,e,c]}class ce extends W{constructor(t){super(),X(this,t,le,te,R,{data:0,compact:1,title:2})}}export{ce as I};
