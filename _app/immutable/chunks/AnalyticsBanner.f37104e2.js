import{t as at,a as ot,S as it,i as st}from"./index.c500527e.js";import{B as Ke,s as _t,e as Te,i as se,u as ge,d as z,C as lt,o as ct,f as I,g as P,h as F,j as x,r as S,l as re,m as ae,D as q,y as be,n as ut,a as Ie,c as Pe,z as ze}from"./scheduler.62d8ce45.js";import{p as Ne}from"./stores.30fd2b66.js";function xn(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Sn(t,a){at(t,1,1,()=>{a.delete(t.key)})}function An(t,a,n,o,e,i,s,_,c,d,f,l){let u=t.length,m=i.length,p=u;const w={};for(;p--;)w[t[p].key]=p;const h=[],v=new Map,C=new Map,k=[];for(p=m;p--;){const M=l(e,i,p),A=n(M);let D=s.get(A);D?o&&k.push(()=>D.p(M,a)):(D=d(A,M),D.c()),v.set(A,h[p]=D),A in w&&C.set(A,Math.abs(p-w[A]))}const T=new Set,y=new Set;function N(M){ot(M,1),M.m(_,f),s.set(M.key,M),f=M.first,m--}for(;u&&m;){const M=h[m-1],A=t[u-1],D=M.key,U=A.key;M===A?(f=M.first,u--,m--):v.has(U)?!s.has(D)||T.has(D)?N(M):y.has(U)?u--:C.get(D)>C.get(U)?(y.add(D),N(M)):(T.add(U),u--):(c(A,s),u--)}for(;u--;){const M=t[u];v.has(M.key)||c(M,s)}for(;m;)N(h[m-1]);return Ke(k),h}var Re={},de={},fe=34,B=10,he=13;function Ye(t){return new Function("d","return {"+t.map(function(a,n){return JSON.stringify(a)+": d["+n+'] || ""'}).join(",")+"}")}function dt(t,a){var n=Ye(t);return function(o,e){return a(n(o),e,t)}}function De(t){var a=Object.create(null),n=[];return t.forEach(function(o){for(var e in o)e in a||n.push(a[e]=e)}),n}function R(t,a){var n=t+"",o=n.length;return o<a?new Array(a-o+1).join(0)+n:n}function ft(t){return t<0?"-"+R(-t,6):t>9999?"+"+R(t,6):R(t,4)}function ht(t){var a=t.getUTCHours(),n=t.getUTCMinutes(),o=t.getUTCSeconds(),e=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":ft(t.getUTCFullYear())+"-"+R(t.getUTCMonth()+1,2)+"-"+R(t.getUTCDate(),2)+(e?"T"+R(a,2)+":"+R(n,2)+":"+R(o,2)+"."+R(e,3)+"Z":o?"T"+R(a,2)+":"+R(n,2)+":"+R(o,2)+"Z":n||a?"T"+R(a,2)+":"+R(n,2)+"Z":"")}function pt(t){var a=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function o(l,u){var m,p,w=e(l,function(h,v){if(m)return m(h,v-1);p=h,m=u?dt(h,u):Ye(h)});return w.columns=p||[],w}function e(l,u){var m=[],p=l.length,w=0,h=0,v,C=p<=0,k=!1;l.charCodeAt(p-1)===B&&--p,l.charCodeAt(p-1)===he&&--p;function T(){if(C)return de;if(k)return k=!1,Re;var N,M=w,A;if(l.charCodeAt(M)===fe){for(;w++<p&&l.charCodeAt(w)!==fe||l.charCodeAt(++w)===fe;);return(N=w)>=p?C=!0:(A=l.charCodeAt(w++))===B?k=!0:A===he&&(k=!0,l.charCodeAt(w)===B&&++w),l.slice(M+1,N-1).replace(/""/g,'"')}for(;w<p;){if((A=l.charCodeAt(N=w++))===B)k=!0;else if(A===he)k=!0,l.charCodeAt(w)===B&&++w;else if(A!==n)continue;return l.slice(M,N)}return C=!0,l.slice(M,p)}for(;(v=T())!==de;){for(var y=[];v!==Re&&v!==de;)y.push(v),v=T();u&&(y=u(y,h++))==null||m.push(y)}return m}function i(l,u){return l.map(function(m){return u.map(function(p){return f(m[p])}).join(t)})}function s(l,u){return u==null&&(u=De(l)),[u.map(f).join(t)].concat(i(l,u)).join(`
`)}function _(l,u){return u==null&&(u=De(l)),i(l,u).join(`
`)}function c(l){return l.map(d).join(`
`)}function d(l){return l.map(f).join(t)}function f(l){return l==null?"":l instanceof Date?ht(l):a.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l}return{parse:o,parseRows:e,format:s,formatBody:_,formatRows:c,formatRow:d,formatValue:f}}var mt=pt(","),yt=mt.parse;function gt(t){for(var a in t){var n=t[a].trim(),o,e;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(o=+n))n=o;else if(e=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))bt&&e[4]&&!e[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[a]=n}return t}const bt=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function vt(t){return t}function wt(t){if(t==null)return vt;var a,n,o=t.scale[0],e=t.scale[1],i=t.translate[0],s=t.translate[1];return function(_,c){c||(a=n=0);var d=2,f=_.length,l=new Array(f);for(l[0]=(a+=_[0])*o+i,l[1]=(n+=_[1])*e+s;d<f;)l[d]=_[d],++d;return l}}function kt(t,a){for(var n,o=t.length,e=o-a;e<--o;)n=t[e],t[e++]=t[o],t[o]=n}function Et(t,a){return typeof a=="string"&&(a=t.objects[a]),a.type==="GeometryCollection"?{type:"FeatureCollection",features:a.geometries.map(function(n){return Oe(t,n)})}:Oe(t,a)}function Oe(t,a){var n=a.id,o=a.bbox,e=a.properties==null?{}:a.properties,i=Mt(t,a);return n==null&&o==null?{type:"Feature",properties:e,geometry:i}:o==null?{type:"Feature",id:n,properties:e,geometry:i}:{type:"Feature",id:n,bbox:o,properties:e,geometry:i}}function Mt(t,a){var n=wt(t.transform),o=t.arcs;function e(f,l){l.length&&l.pop();for(var u=o[f<0?~f:f],m=0,p=u.length;m<p;++m)l.push(n(u[m],m));f<0&&kt(l,p)}function i(f){return n(f)}function s(f){for(var l=[],u=0,m=f.length;u<m;++u)e(f[u],l);return l.length<2&&l.push(l[0]),l}function _(f){for(var l=s(f);l.length<4;)l.push(l[0]);return l}function c(f){return f.map(_)}function d(f){var l=f.type,u;switch(l){case"GeometryCollection":return{type:l,geometries:f.geometries.map(d)};case"Point":u=i(f.coordinates);break;case"MultiPoint":u=f.coordinates.map(i);break;case"LineString":u=s(f.arcs);break;case"MultiLineString":u=f.arcs.map(s);break;case"Polygon":u=c(f.arcs);break;case"MultiPolygon":u=f.arcs.map(c);break;default:return null}return{type:l,coordinates:u}}return d(a)}function Ct(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function oe(t,a){if((n=(t=a?t.toExponential(a-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function xt(t){return t=oe(Math.abs(t)),t?t[1]:NaN}function St(t,a){return function(n,o){for(var e=n.length,i=[],s=0,_=t[0],c=0;e>0&&_>0&&(c+_+1>o&&(_=Math.max(1,o-c)),i.push(n.substring(e-=_,e+_)),!((c+=_+1)>o));)_=t[s=(s+1)%t.length];return i.reverse().join(a)}}function At(t){return function(a){return a.replace(/[0-9]/g,function(n){return t[+n]})}}var Tt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ve(t){if(!(a=Tt.exec(t)))throw new Error("invalid format: "+t);var a;return new ke({fill:a[1],align:a[2],sign:a[3],symbol:a[4],zero:a[5],width:a[6],comma:a[7],precision:a[8]&&a[8].slice(1),trim:a[9],type:a[10]})}ve.prototype=ke.prototype;function ke(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ke.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function It(t){e:for(var a=t.length,n=1,o=-1,e;n<a;++n)switch(t[n]){case".":o=e=n;break;case"0":o===0&&(o=n),e=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(e+1):t}var Je;function Pt(t,a){var n=oe(t,a);if(!n)return t+"";var o=n[0],e=n[1],i=e-(Je=Math.max(-8,Math.min(8,Math.floor(e/3)))*3)+1,s=o.length;return i===s?o:i>s?o+new Array(i-s+1).join("0"):i>0?o.slice(0,i)+"."+o.slice(i):"0."+new Array(1-i).join("0")+oe(t,Math.max(0,a+i-1))[0]}function Fe(t,a){var n=oe(t,a);if(!n)return t+"";var o=n[0],e=n[1];return e<0?"0."+new Array(-e).join("0")+o:o.length>e+1?o.slice(0,e+1)+"."+o.slice(e+1):o+new Array(e-o.length+2).join("0")}const Le={"%":(t,a)=>(t*100).toFixed(a),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ct,e:(t,a)=>t.toExponential(a),f:(t,a)=>t.toFixed(a),g:(t,a)=>t.toPrecision(a),o:t=>Math.round(t).toString(8),p:(t,a)=>Fe(t*100,a),r:Fe,s:Pt,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ue(t){return t}var je=Array.prototype.map,We=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function zt(t){var a=t.grouping===void 0||t.thousands===void 0?Ue:St(je.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",e=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Ue:At(je.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",_=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(l){l=ve(l);var u=l.fill,m=l.align,p=l.sign,w=l.symbol,h=l.zero,v=l.width,C=l.comma,k=l.precision,T=l.trim,y=l.type;y==="n"?(C=!0,y="g"):Le[y]||(k===void 0&&(k=12),T=!0,y="g"),(h||u==="0"&&m==="=")&&(h=!0,u="0",m="=");var N=w==="$"?n:w==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",M=w==="$"?o:/[%p]/.test(y)?s:"",A=Le[y],D=/[defgprs%]/.test(y);k=k===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function U(E){var j=N,O=M,V,Ae,ee;if(y==="c")O=A(E)+O,E="";else{E=+E;var te=E<0||1/E<0;if(E=isNaN(E)?c:A(Math.abs(E),k),T&&(E=It(E)),te&&+E==0&&p!=="+"&&(te=!1),j=(te?p==="("?p:_:p==="-"||p==="("?"":p)+j,O=(y==="s"?We[8+Je/3]:"")+O+(te&&p==="("?")":""),D){for(V=-1,Ae=E.length;++V<Ae;)if(ee=E.charCodeAt(V),48>ee||ee>57){O=(ee===46?e+E.slice(V+1):E.slice(V))+O,E=E.slice(0,V);break}}}C&&!h&&(E=a(E,1/0));var ne=j.length+E.length+O.length,L=ne<v?new Array(v-ne+1).join(u):"";switch(C&&h&&(E=a(L+E,L.length?v-O.length:1/0),L=""),m){case"<":E=j+E+O+L;break;case"=":E=j+L+E+O;break;case"^":E=L.slice(0,ne=L.length>>1)+j+E+O+L.slice(ne);break;default:E=L+j+E+O;break}return i(E)}return U.toString=function(){return l+""},U}function f(l,u){var m=d((l=ve(l),l.type="f",l)),p=Math.max(-8,Math.min(8,Math.floor(xt(u)/3)))*3,w=Math.pow(10,-p),h=We[8+p/3];return function(v){return m(w*v)+h}}return{format:d,formatPrefix:f}}var Nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ze={exports:{}};(function(){var t,a,n,o,e,i=[].slice;t="a",e="an",n={0:{8:{_:e},9:{_:e},"-":{1:{1:{_:e}},4:{" ":{_:t},_:e},6:{"-":{_:e}},8:{_:e}}},1:{1:{0:{_:t},1:{_:t},2:{_:t},3:{_:t},4:{_:t},5:{_:t},6:{_:t},7:{_:t},8:{_:t},9:{_:t},_:e,".":{4:{_:t}}},8:{0:{0:{_:e},1:{_:e},2:{_:e},3:{_:e},4:{_:e},5:{_:e},6:{_:e},7:{_:e},8:{_:e},9:{_:e},_:t},1:{"-":{_:t}," ":{_:t}},2:{"-":{_:t}," ":{_:t}},3:{"-":{_:t}," ":{_:t}},4:{"-":{_:t}," ":{_:t}},5:{"-":{_:t}," ":{_:t}},6:{"-":{_:t}," ":{_:t}},7:{"-":{_:t}," ":{_:t}},8:{"-":{_:t}," ":{_:t}},9:{"-":{_:t}," ":{_:t}},_:e}},8:{0:{0:{x:{_:t}}},9:{0:{_:t}},_:e,",":{1:{_:t}}},"`":{a:{_:e}},"£":{8:{_:e}},"∞":{_:e},a:{" ":{_:t},b:{o:{u:{t:{"-":{_:e}},_:t}}},g:{a:{i:{_:t}}},l:{"-":{I:{_:t}},g:{u:{_:t}},t:{h:{_:t}}},m:{o:{n:{_:t}}},n:{" ":{_:t},d:{a:{_:e},e:{_:e},r:{_:e},_:t},o:{t:{_:t}},y:{w:{_:t}}},p:{r:{e:{_:t}}},r:{e:{" ":{_:t},":":{_:t}},t:{í:{_:t}}},_:e},A:{$:{_:t},A:{A:{_:t}},n:{d:{a:{l:{u:{c:{_:t}}}}}},r:{m:{a:{t:{_:t}}}},s:{t:{u:{r:{i:{a:{s:{_:t}}}}}}},t:{h:{l:{e:{t:{i:{_:e}}},o:{_:e},_:t}}},U:{$:{_:t},D:{_:t},S:{C:{_:t}}},_:e},Á:{_:e},á:{";":{_:e}},à:{_:e},Ä:{_:e},ā:{_:e},Å:{_:e},æ:{_:e},Æ:{n:{_:t},_:e},D:{ú:{n:{_:t}}},e:{".":{g:{_:t}},a:{c:{h:{" ":{_:t}}}},i:{t:{h:{e:{r:{" ":{_:t},".":{_:t}}}}}},l:{"-":{_:t},l:{a:{_:t}}},m:{p:{e:{z:{_:t}}}},n:{o:{u:{g:{_:t}}}},u:{p:{" ":{_:e}},_:t},w:{_:t},x:{i:{s:{t:{s:{_:t}}}}},_:e},E:{m:{p:{e:{z:{_:t}}}},n:{a:{m:{_:t}}},s:{p:{a:{d:{_:e}},e:{_:e},o:{_:e},_:t}},u:{l:{_:e},_:t},U:{R:{_:t}},_:e},é:{g:{_:t},t:{a:{_:e},u:{_:e},_:t},_:e},É:{_:e},f:{"-":{_:e}," ":{_:e},"/":{_:e},M:{_:e},p:{_:e},t:{_:e}},F:{0:{_:e},1:{_:e},2:{_:e},3:{_:e},4:{_:e},5:{_:e},6:{_:e},9:{_:e},"'":{_:e},"-":{_:e}," ":{_:e},'"':{_:e},"#":{_:e},",":{_:e},".":{_:e},"/":{_:e},"”":{_:e},A:{C:{_:t},D:{_:t},I:{R:{_:t}},L:{_:t},M:{_:t},N:{_:t},P:{_:t},Q:{_:t},R:{_:t},S:{_:t},T:{_:t},_:e},B:{_:e},C:{_:e},c:{_:e},D:{_:e},E:{C:{_:e},I:{_:e}},F:{" ":{_:t},_:e},f:{_:e},h:{_:e},H:{_:e},I:{A:{T:{_:t},_:e},D:{" ":{_:e}},R:{" ":{_:e}},S:{" ":{_:e}}},K:{_:e},L:{C:{_:e},N:{_:e},P:{_:e}},M:{R:{_:t},_:e},O:{" ":{_:e},I:{" ":{_:e}}},P:{".":{_:t},"?":{_:t},C:{"?":{_:t}},_:e},R:{C:{_:e},S:{_:e}},S:{_:e},T:{S:{_:t},T:{_:t},_:e},U:{" ":{_:e},",":{_:e},".":{_:e}},V:{_:e},W:{D:{_:t},_:e},X:{_:e},Y:{_:e},σ:{_:e}},G:{h:{a:{e:{_:e},i:{_:e}}}},h:{"'":{_:e},"-":{U:{_:t},_:e}," ":{_:e},'"':{_:e},",":{_:e},C:{_:e},e:{i:{r:{a:{_:t},_:e}}},i:{m:{s:{_:e}},s:{t:{o:{r:{i:{c:{_:t}}}}}}},o:{m:{a:{_:e},m:{_:e}},n:{e:{y:{_:t}},k:{_:t},v:{_:t},_:e},r:{s:{" ":{_:e}}},u:{r:{_:e}}},t:{t:{p:{" ":{_:e}},_:t},_:e}},H:{1:{_:e},2:{_:e},3:{_:e},4:{_:e},5:{_:e},"'":{_:e},"-":{_:e}," ":{_:e},'"':{_:e},"&":{_:e},",":{_:e},".":{A:{_:t},_:e},"+":{_:e},a:{b:{i:{l:{i:{t:{a:{t:{i:{o:{n:{s:{_:e}}}}}}}}}}}},B:{_:e},C:{_:e},D:{B:{_:t},_:e},e:{i:{r:{_:e}}},F:{_:e},G:{_:e},H:{_:e},I:{D:{_:t},G:{_:t},M:{_:t},P:{_:t},_:e},L:{A:{"-":{D:{_:t}}},_:e},M:{_:e},N:{_:e},o:{n:{d:{_:t},e:{s:{_:e},_:t},g:{_:t},k:{_:t},o:{l:{_:t}},_:e},u:{r:{_:e}}},O:{" ":{_:e},V:{_:e}},P:{_:e},Q:{_:e},R:{T:{_:t},_:e},S:{" ":{_:t},R:{_:t},T:{_:t},_:e},T:{P:{_:t},_:e},V:{_:e},W:{T:{_:e}}},i:{".":{e:{_:t}},b:{n:{_:t}},f:{" ":{_:t}},i:{_:t},n:{c:{l:{u:{d:{i:{_:t}}}}},d:{i:{c:{a:{t:{e:{s:{_:t}}}}}}},s:{t:{e:{a:{d:{"?":{_:e}},_:t}}}}},s:{" ":{_:t},".":{_:t}},t:{" ":{_:t}},u:{_:t},_:e},I:{"-":{A:{_:t},I:{_:t}},I:{I:{_:t}},l:{b:{_:t}},M:{H:{_:t}},m:{a:{m:{s:{_:t}}}},R:{"£":{_:t}},s:{l:{a:{m:{" ":{_:t},",":{_:t},".":{_:t}},n:{d:{s:{_:t}}}}}},_:e},İ:{_:e},J:{i:{a:{n:{_:t},_:e}}},k:{u:{" ":{_:e}}},l:{" ":{_:e},'"':{_:e},p:{_:e}},L:{1:{_:e},2:{_:e},3:{_:e},5:{_:e},"'":{A:{_:t},_:e},"-":{a:{_:t},_:e}," ":{_:e},'"':{_:e},"&":{_:e},",":{_:e},".":{_:e},"/":{_:e},a:{e:{_:e},o:{i:{g:{_:e}}}},A:{" ":{_:e},L:{_:e},P:{_:e}},B:{_:e},C:{_:e},D:{_:e},E:{A:{_:t},E:{_:t},G:{_:t},O:{_:t},P:{_:t},T:{_:t},_:e},F:{_:e},G:{_:e},H:{_:e},I:{R:{_:e}},L:{_:e},M:{X:{_:t},_:e},N:{_:e},o:{c:{h:{a:{_:e}}}},O:{E:{_:e}},P:{_:e},R:{_:e},S:{_:e},T:{_:e},U:{" ":{_:e}},V:{_:e},X:{_:e},Z:{_:e}},m:{"-":{_:e}," ":{_:e},'"':{_:e},"&":{_:e},a:{k:{e:{s:{" ":{_:e}}}}},b:{_:e},e:{i:{n:{_:e}},n:{t:{i:{o:{n:{s:{_:e}}}}}}},f:{_:e},p:{_:e},R:{_:e},t:{_:e}},M:{1:{9:{0:{_:e},_:t},_:e},2:{_:e},3:{_:e},4:{_:e},5:{_:e},6:{_:e},7:{_:e},8:{_:e},9:{_:e},"'":{_:e},"-":{t:{_:t},_:e}," ":{_:e},'"':{_:e},"&":{_:e},",":{_:e},".":{A:{".":{S:{_:t}}},_:e},"/":{_:e},A:{C:{_:t},D:{_:t},F:{_:t},G:{_:t},J:{_:t},L:{_:t},M:{_:t},N:{_:t},P:{_:t},R:{_:t},S:{_:t},T:{_:t},X:{_:t},Y:{_:t},_:e},B:{_:e},C:{_:e},D:{_:e},e:{"-":{_:e}},E:{d:{_:e},n:{_:e},P:{_:e}},F:{_:e},f:{_:e},G:{_:e},H:{_:e},h:{_:e},i:{e:{_:e}},I:{5:{_:e},6:{_:e}," ":{_:e},A:{_:e},T:{_:e}},K:{_:e},L:{_:e},M:{T:{_:t},_:e},N:{_:e},o:{U:{_:e}},O:{" ":{_:e},T:{" ":{_:e}},U:{_:e}},P:{_:e},R:{_:e},S:{_:e},s:{c:{_:e}},T:{R:{_:t},_:e},U:{V:{_:e}},V:{_:e},X:{_:e}},N:{4:{_:e},6:{_:e},"'":{_:e},"-":{a:{_:t},S:{_:t},_:e}," ":{_:e},'"':{_:e},",":{_:e},".":{Y:{_:t},_:e},"=":{_:e},"²":{_:e},a:{o:{_:e}},A:{" ":{_:e},A:{F:{_:t},_:e},I:{_:e},S:{L:{_:e}}},B:{_:e},C:{_:e},D:{_:e},E:{A:{_:e},H:{_:e},S:{" ":{_:e}}},F:{_:e},G:{_:e},H:{_:e},I:{C:{_:t},L:{_:t},M:{H:{_:e},_:t},N:{_:t},S:{_:t},_:e},J:{C:{_:e}},K:{_:e},L:{S:{_:t},_:e},M:{_:e},N:{R:{_:e},T:{_:e}},P:{O:{V:{"-":{_:e}},_:t},_:e},R:{J:{_:t},T:{_:t},_:e},S:{W:{_:t},_:e},T:{$:{_:t},_:e},U:{S:{_:e}},V:{_:e},v:{_:e},W:{A:{_:e}},X:{_:e},Y:{P:{_:e},U:{_:e}}},n:{"-":{_:e},"−":{_:e}," ":{_:e},'"':{_:e},"&":{_:e},",":{_:e},"+":{_:e},"×":{_:e},d:{a:{_:e}},p:{a:{_:e}},t:{_:e},V:{_:e},W:{_:e}},o:{b:{r:{_:t}},c:{c:{u:{r:{s:{_:t}}}},h:{o:{_:t}}},f:{" ":{_:t}},n:{"-":{_:e},"/":{_:e},b:{_:e},c:{o:{_:e}},d:{_:e},e:{r:{_:e}},g:{_:e},i:{_:e},l:{_:e},m:{_:e},o:{_:e},r:{_:e},s:{_:e},t:{_:e},u:{_:e},w:{_:e},y:{_:e},_:t},r:{" ":{_:t},",":{_:t}},u:{i:{_:t}},_:e},O:{b:{e:{r:{s:{t:{" ":{_:e},l:{_:e}},_:t}}}},l:{v:{_:t}},n:{e:{i:{_:e},_:t}},N:{E:{_:t}},o:{p:{_:t}},u:{i:{_:t}},_:e},Ó:{_:e},Ö:{_:e},ö:{_:e},Ō:{_:e},ō:{_:e},P:{h:{o:{b:{_:e},i:{_:e}}}},r:{"'":{_:e},"-":{_:e}," ":{_:e},'"':{_:e},"&":{_:e},".":{_:e},e:{f:{e:{r:{s:{_:e}}}}},f:{_:e},m:{_:e},s:{_:e}},R:{1:{0:{_:t},_:e},2:{_:e},3:{_:e},4:{_:e},5:{_:e},6:{_:e},"'":{_:e},"-":{_:e}," ":{_:e},'"':{_:e},"&":{_:e},",":{_:e},".":{C:{_:t},_:e},"/":{_:e},A:{" ":{_:e},F:{_:e}},B:{_:e},C:{_:e},D:{_:e},E:{" ":{_:e},R:{_:e}},F:{_:e},f:{_:e},G:{_:e},H:{S:{_:e}},I:{A:{_:e},C:{" ":{_:e}}},J:{_:e},K:{_:e},L:{" ":{_:t},_:e},M:{1:{_:t},_:e},N:{G:{_:t},_:e},O:{T:{_:e}},P:{_:e},Q:{_:e},R:{_:e},S:{" ":{_:t},")":{_:t},",":{_:t},".":{_:t},"?":{_:t},T:{_:t},_:e},T:{_:e},U:{_:e},V:{_:e},X:{_:e}},s:{"-":{_:e},'"':{_:e},")":{_:e},",":{_:e},".":{_:e},a:{y:{s:{_:e}}},i:{c:{h:{_:e}}},p:{3:{_:e},r:{o:{t:{_:e}}}},s:{h:{_:e}},t:{a:{t:{e:{s:{" ":{_:e},":":{_:e}}}}}},v:{a:{_:t},e:{_:t},_:e}},S:{1:{_:e},2:{_:e},3:{_:e},4:{_:e},5:{_:e},6:{_:e},"'":{_:e},"-":{_:e}," ":{_:e},'"':{_:e},"&":{W:{_:t},_:e},",":{_:e},".":{B:{_:e},M:{_:e},O:{_:e}},"”":{_:e},A:{"-":{1:{_:t},_:e}," ":{_:e},C:{D:{_:e}},E:{_:e},S:{E:{_:t},_:e},T:{" ":{_:e},B:{_:e}}},B:{_:e},C:{A:{" ":{_:e}},C:{_:e},M:{_:e},O:{" ":{_:e}},R:{A:{_:t},_:e},T:{_:e}},D:{_:e},E:{" ":{_:e},C:{O:{_:t},R:{_:t},_:e},I:{_:e},O:{_:e}},F:{_:e},G:{_:e},H:{2:{_:e},3:{_:e},"-":{_:e}},I:{" ":{_:e}},J:{_:e},K:{_:e},L:{A:{_:t},I:{_:t},O:{_:t},_:e},M:{A:{_:t},E:{" ":{_:e},_:t},I:{_:t},_:e},N:{A:{_:t},E:{_:t},O:{_:t},_:e},O:{"(":{_:e},A:{" ":{_:e},I:{_:e}},E:{_:e},I:{_:e},S:{_:e},V:{_:e}},P:{A:{C:{_:t},D:{_:t},M:{_:t},N:{_:t},R:{_:t}},E:{" ":{_:e},_:t},I:{C:{_:t}},O:{_:t},U:{_:t},_:e},R:{_:e},S:{_:e},T:{"-":{_:e},A:{" ":{_:e}},B:{_:e},C:{_:e},D:{_:e},F:{_:e},L:{_:e},M:{_:e},S:{_:e},V:{_:e}},u:{r:{a:{" ":{_:e}}}},U:{B:{_:t},L:{_:t},N:{_:t},P:{_:t},S:{_:t},_:e},V:{_:e},W:{F:{_:e},P:{_:e},R:{_:e}},X:{S:{_:t},_:e}},t:{"-":{S:{_:e}},S:{_:e}},T:{a:{v:{e:{s:{_:e}}}},à:{_:e}},u:{"-":{_:t}," ":{_:t},'"':{_:t},".":{_:t},b:{e:{_:e},_:t},f:{_:t},k:{a:{_:e},_:t},l:{u:{_:t}},m:{" ":{_:t}},n:{" ":{_:t},a:{" ":{_:t},n:{a:{_:e},n:{_:e},s:{_:e},t:{_:e},_:t},r:{y:{_:t}}},e:{" ":{_:t}},i:{c:{o:{r:{p:{_:e}}}},d:{i:{_:t},_:e},m:{o:{_:t},_:e},n:{_:e},v:{o:{_:e}},_:t},l:{e:{s:{_:t}}}},p:{o:{_:t}},r:{a:{_:t},e:{_:t},i:{_:t},l:{_:t},o:{_:t}},s:{"-":{_:e}," ":{_:e},h:{_:e},_:t},t:{m:{_:e},t:{_:e},_:t},v:{_:t},w:{_:t},_:e},U:{1:{_:e},"-":{B:{o:{_:t},_:e}},a:{_:e},b:{i:{_:t},_:e},D:{P:{"-":{_:e}}},d:{_:e},g:{l:{_:e}},h:{_:e},i:{_:e},l:{i:{_:t},_:e},m:{_:e},M:{N:{_:e}},n:{"-":{_:e},a:{n:{_:t},_:e},b:{_:e},c:{_:e},d:{_:e},e:{s:{_:t},_:e},f:{_:e},g:{_:e},h:{_:e},i:{d:{_:e},n:{_:e}},k:{_:e},l:{_:e},m:{_:e},n:{_:e},o:{_:e},p:{_:e},r:{_:e},s:{_:e},t:{e:{r:{s:{_:t}}},_:e},u:{_:e},w:{_:e}},p:{_:e},r:{a:{_:t},i:{_:t},u:{g:{u:{a:{y:{a:{n:{"-":{_:e}}}}}}},k:{_:e},_:t},_:e},s:{h:{_:e},t:{_:e}},t:{n:{_:e},o:{"-":{_:e}},r:{_:e},t:{_:e}},x:{_:e},z:{_:e}},ü:{_:e},Ü:{_:e},V:{I:{I:{_:e}}},x:{a:{_:t},e:{_:t},i:{_:t},o:{_:t},x:{_:t},y:{_:t},_:e},X:{a:{_:t},A:{_:t},e:{_:t},h:{_:t},i:{_:t},I:{V:{_:t},X:{_:t}},o:{_:t},u:{_:t},U:{_:t},V:{_:t},X:{" ":{_:e},_:t},y:{_:t},_:e},Y:{p:{_:e}},α:{_:e},ε:{_:e},ω:{_:e}},o=function(s,_,c){var d;return _==null&&(_=n),c==null&&(c="a"),s==null?c:(d=s.slice(0,1),_=_[d],d!=null&&_!=null?o(s.slice(1),_,_._||c):c)},a=function(){var s,_,c;return _=1<=arguments.length?i.call(arguments,0):[],c=function(){var d,f,l;for(l=[],d=0,f=_.length;d<f;d++)s=_[d],s!=null&&l.push(o(s)+" "+s);return l}(),_.length===1?c[0]:c},Ze.exports={find:o,articlize:a}}).call(Nt);var Ve=Ze.exports;zt({decimal:".",thousands:",",grouping:[3],currency:["£",""]}).format;function Rt(t,a=null,n="default"){t==="East"&&(t="East of England"),t=t.replace("&","and").replace(", City of","").replace(", County of","");let o="",e=t.toLowerCase(),i=e.startsWith("isle"),s=["united kingdom","north east","north west","east midlands","west midlands","east of england","south east","south west","derbyshire dales"].includes(e)||e.startsWith("city of")||e.startsWith("vale of");return["in","the"].includes(a)&&(i||s)&&(o="the "),a==="in"&&(i?o="on "+o:o="in "+o),n==="default"?o+t:o.slice(0,-1)}function Dt(t){const a=Object.keys(t),n=a.map(e=>e.toLowerCase());for(let e of["hclnm","areanm","name","label","areacd"]){let i=n.indexOf(e);if(i>-1)return a[i]}let o=n.find(e=>e.toLowerCase().slice(-2)==="nm");return o||a[0]}function Ge(t,a=null,n="default"){const o=Dt(t);return Rt(t[o],a,n)}function In(t){return t[0]?t[0].toUpperCase()+t.slice(1):t}const Pn=(t,a="default")=>a==="default"?`${Ve.find(t)} ${t}`:Ve.find(t);var Ot={rgb2hsl:H,rgb2hsv:_e,rgb2hwb:K,rgb2cmyk:Y,rgb2keyword:J,rgb2xyz:Ee,rgb2lab:Me,rgb2lch:Ft,hsl2rgb:le,hsl2hsv:Lt,hsl2hwb:Ut,hsl2cmyk:jt,hsl2keyword:Wt,hsv2rgb:ce,hsv2hsl:Vt,hsv2hwb:Gt,hsv2cmyk:Bt,hsv2keyword:Xt,hwb2rgb:Z,hwb2hsl:qt,hwb2hsv:Ht,hwb2cmyk:Kt,hwb2keyword:Yt,cmyk2rgb:Q,cmyk2hsl:Jt,cmyk2hsv:Zt,cmyk2hwb:Qt,cmyk2keyword:$t,keyword2rgb:W,keyword2hsl:rn,keyword2hsv:an,keyword2hwb:on,keyword2cmyk:sn,keyword2lab:_n,keyword2xyz:ln,xyz2rgb:Qe,xyz2lab:$e,xyz2lch:en,lab2xyz:Ce,lab2rgb:et,lab2lch:xe,lch2lab:Se,lch2xyz:tn,lch2rgb:nn};function H(t){var a=t[0]/255,n=t[1]/255,o=t[2]/255,e=Math.min(a,n,o),i=Math.max(a,n,o),s=i-e,_,c,d;return i==e?_=0:a==i?_=(n-o)/s:n==i?_=2+(o-a)/s:o==i&&(_=4+(a-n)/s),_=Math.min(_*60,360),_<0&&(_+=360),d=(e+i)/2,i==e?c=0:d<=.5?c=s/(i+e):c=s/(2-i-e),[_,c*100,d*100]}function _e(t){var a=t[0],n=t[1],o=t[2],e=Math.min(a,n,o),i=Math.max(a,n,o),s=i-e,_,c,d;return i==0?c=0:c=s/i*1e3/10,i==e?_=0:a==i?_=(n-o)/s:n==i?_=2+(o-a)/s:o==i&&(_=4+(a-n)/s),_=Math.min(_*60,360),_<0&&(_+=360),d=i/255*1e3/10,[_,c,d]}function K(t){var a=t[0],n=t[1],i=t[2],o=H(t)[0],e=1/255*Math.min(a,Math.min(n,i)),i=1-1/255*Math.max(a,Math.max(n,i));return[o,e*100,i*100]}function Y(t){var a=t[0]/255,n=t[1]/255,o=t[2]/255,e,i,s,_;return _=Math.min(1-a,1-n,1-o),e=(1-a-_)/(1-_)||0,i=(1-n-_)/(1-_)||0,s=(1-o-_)/(1-_)||0,[e*100,i*100,s*100,_*100]}function J(t){return tt[JSON.stringify(t)]}function Ee(t){var a=t[0]/255,n=t[1]/255,o=t[2]/255;a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,o=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92;var e=a*.4124+n*.3576+o*.1805,i=a*.2126+n*.7152+o*.0722,s=a*.0193+n*.1192+o*.9505;return[e*100,i*100,s*100]}function Me(t){var a=Ee(t),n=a[0],o=a[1],e=a[2],i,s,_;return n/=95.047,o/=100,e/=108.883,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,i=116*o-16,s=500*(n-o),_=200*(o-e),[i,s,_]}function Ft(t){return xe(Me(t))}function le(t){var a=t[0]/360,n=t[1]/100,o=t[2]/100,e,i,s,_,c;if(n==0)return c=o*255,[c,c,c];o<.5?i=o*(1+n):i=o+n-o*n,e=2*o-i,_=[0,0,0];for(var d=0;d<3;d++)s=a+1/3*-(d-1),s<0&&s++,s>1&&s--,6*s<1?c=e+(i-e)*6*s:2*s<1?c=i:3*s<2?c=e+(i-e)*(2/3-s)*6:c=e,_[d]=c*255;return _}function Lt(t){var a=t[0],n=t[1]/100,o=t[2]/100,e,i;return o===0?[0,0,0]:(o*=2,n*=o<=1?o:2-o,i=(o+n)/2,e=2*n/(o+n),[a,e*100,i*100])}function Ut(t){return K(le(t))}function jt(t){return Y(le(t))}function Wt(t){return J(le(t))}function ce(t){var a=t[0]/60,n=t[1]/100,c=t[2]/100,o=Math.floor(a)%6,e=a-Math.floor(a),i=255*c*(1-n),s=255*c*(1-n*e),_=255*c*(1-n*(1-e)),c=255*c;switch(o){case 0:return[c,_,i];case 1:return[s,c,i];case 2:return[i,c,_];case 3:return[i,s,c];case 4:return[_,i,c];case 5:return[c,i,s]}}function Vt(t){var a=t[0],n=t[1]/100,o=t[2]/100,e,i;return i=(2-n)*o,e=n*o,e/=i<=1?i:2-i,e=e||0,i/=2,[a,e*100,i*100]}function Gt(t){return K(ce(t))}function Bt(t){return Y(ce(t))}function Xt(t){return J(ce(t))}function Z(t){var a=t[0]/360,n=t[1]/100,o=t[2]/100,e=n+o,i,s,_,c;switch(e>1&&(n/=e,o/=e),i=Math.floor(6*a),s=1-o,_=6*a-i,i&1&&(_=1-_),c=n+_*(s-n),i){default:case 6:case 0:r=s,g=c,b=n;break;case 1:r=c,g=s,b=n;break;case 2:r=n,g=s,b=c;break;case 3:r=n,g=c,b=s;break;case 4:r=c,g=n,b=s;break;case 5:r=s,g=n,b=c;break}return[r*255,g*255,b*255]}function qt(t){return H(Z(t))}function Ht(t){return _e(Z(t))}function Kt(t){return Y(Z(t))}function Yt(t){return J(Z(t))}function Q(t){var a=t[0]/100,n=t[1]/100,o=t[2]/100,e=t[3]/100,i,s,_;return i=1-Math.min(1,a*(1-e)+e),s=1-Math.min(1,n*(1-e)+e),_=1-Math.min(1,o*(1-e)+e),[i*255,s*255,_*255]}function Jt(t){return H(Q(t))}function Zt(t){return _e(Q(t))}function Qt(t){return K(Q(t))}function $t(t){return J(Q(t))}function Qe(t){var a=t[0]/100,n=t[1]/100,o=t[2]/100,e,i,s;return e=a*3.2406+n*-1.5372+o*-.4986,i=a*-.9689+n*1.8758+o*.0415,s=a*.0557+n*-.204+o*1.057,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e=e*12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i=i*12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,e=Math.min(Math.max(0,e),1),i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),[e*255,i*255,s*255]}function $e(t){var a=t[0],n=t[1],o=t[2],e,i,s;return a/=95.047,n/=100,o/=108.883,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,e=116*n-16,i=500*(a-n),s=200*(n-o),[e,i,s]}function en(t){return xe($e(t))}function Ce(t){var a=t[0],n=t[1],o=t[2],e,i,s,_;return a<=8?(i=a*100/903.3,_=7.787*(i/100)+16/116):(i=100*Math.pow((a+16)/116,3),_=Math.pow(i/100,1/3)),e=e/95.047<=.008856?e=95.047*(n/500+_-16/116)/7.787:95.047*Math.pow(n/500+_,3),s=s/108.883<=.008859?s=108.883*(_-o/200-16/116)/7.787:108.883*Math.pow(_-o/200,3),[e,i,s]}function xe(t){var a=t[0],n=t[1],o=t[2],e,i,s;return e=Math.atan2(o,n),i=e*360/2/Math.PI,i<0&&(i+=360),s=Math.sqrt(n*n+o*o),[a,s,i]}function et(t){return Qe(Ce(t))}function Se(t){var a=t[0],n=t[1],o=t[2],e,i,s;return s=o/360*2*Math.PI,e=n*Math.cos(s),i=n*Math.sin(s),[a,e,i]}function tn(t){return Ce(Se(t))}function nn(t){return et(Se(t))}function W(t){return we[t]}function rn(t){return H(W(t))}function an(t){return _e(W(t))}function on(t){return K(W(t))}function sn(t){return Y(W(t))}function _n(t){return Me(W(t))}function ln(t){return Ee(W(t))}var we={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},tt={};for(var Be in we)tt[JSON.stringify(we[Be])]=Be;var pe=Ot,G=function(){return new $};for(var X in pe){G[X+"Raw"]=function(t){return function(a){return typeof a=="number"&&(a=Array.prototype.slice.call(arguments)),pe[t](a)}}(X);var Xe=/(\w+)2(\w+)/.exec(X),me=Xe[1],cn=Xe[2];G[me]=G[me]||{},G[me][cn]=G[X]=function(t){return function(a){typeof a=="number"&&(a=Array.prototype.slice.call(arguments));var n=pe[t](a);if(typeof n=="string"||n===void 0)return n;for(var o=0;o<n.length;o++)n[o]=Math.round(n[o]);return n}}(X)}var $=function(){this.convs={}};$.prototype.routeSpace=function(t,a){var n=a[0];return n===void 0?this.getValues(t):(typeof n=="number"&&(n=Array.prototype.slice.call(a)),this.setValues(t,n))};$.prototype.setValues=function(t,a){return this.space=t,this.convs={},this.convs[t]=a,this};$.prototype.getValues=function(t){var a=this.convs[t];if(!a){var n=this.space,o=this.convs[n];a=G[n][t](o),this.convs[t]=a}return a};["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){$.prototype[t]=function(a){return this.routeSpace(t,arguments)}});const zn="https://www.ons.gov.uk/visualisations/areas",un="https://ons-dp-prod-cdn.s3.eu-west-2.amazonaws.com/maptiles/ap-geos/v2",dn={W04:{label:"community",plural:"communities",childGroup:!0},E06:{label:"unitary authority",plural:"unitary authorities"},W06:{label:"unitary authority",plural:"unitary authorities",childGroup:!0},E07:{label:"non-metropolitan district",plural:"non-metropolitan districts",childGroup:!0},E08:{label:"metropolitan district",plural:"metropolitan districts"},E09:{label:"borough",plural:"boroughs",childGroup:!0},E10:{label:"county",plural:"counties"},E11:{label:"metropolitan county",plural:"metropolital counties"},S12:{label:"council area",plural:"council areas",childGroup:!0},N09:{label:"local government district",plural:"local government districts",childGroup:!0}},fn=["E00","W00","E01","W01","E02","W02","E04","W04","E05","W05"],hn=[{id:"uk",type:"geojson"},{id:"ctry",type:"geojson"},{id:"rgn",type:"geojson"},{id:"la",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2023/authorities-all/v1/boundaries/{z}/{x}/{y}.pbf",layer:"boundaries",minzoom:4},{id:"wpc",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2010/wpc/v2/boundaries/{z}/{x}/{y}.pbf",layer:"boundaries",minzoom:4},{id:"sener",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2022/sen/v1/boundaries/{z}/{x}/{y}.pbf",layer:"region"},{id:"senc",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2022/sen/v1/boundaries/{z}/{x}/{y}.pbf",layer:"constituency"},{id:"wd",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2023/wd/v1/boundaries/{z}/{x}/{y}.pbf",layer:"boundaries",minzoom:6},{id:"par",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2022/par/v1/boundaries/{z}/{x}/{y}.pbf",layer:"par",minzoom:6},{id:"msoa",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2021/msoa/v2/boundaries/{z}/{x}/{y}.pbf",layer:"msoa",minzoom:6},{id:"lsoa",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2021/lsoa/v2/boundaries/{z}/{x}/{y}.pbf",layer:"lsoa",minzoom:7},{id:"oa",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2021/oa/v2/boundaries/{z}/{x}/{y}.pbf",layer:"oa",minzoom:8}],ye=t=>t.map(a=>["!",["in",a,["get","areacd"]]]),ue=[{key:"uk",codes:["K02"],source:"uk"},{key:"ctry",codes:["E92","S92","N92","W92"],pcio:"country",label:"country",plural:"countries",source:"ctry"},{key:"rgn",codes:["E12"],pcio:"region",label:"region",plural:"regions",source:"rgn"},{key:"cauth",codes:["E06","E09","E10","E47","N09","S12","W06"],label:"upper-tier/combined authority",plural:"upper-tier/combined authorities",source:"la",filter:["all",...ye(["E07","E08"]),["!",["==",["get","cauth"],"true"]]]},{key:"utla",codes:["E06","E08","E09","E10","N09","S12","W06"],pcio:"admin_county",label:"upper-tier/unitary authority",plural:"upper-tier/unitary authorities",source:"la",filter:["all",...ye(["E07","E47"])]},{key:"ltla",codes:["E06","E07","E08","E09","N09","S12","W06"],pcio:"admin_district",label:"lower-tier/unitary authority",plural:"lower-tier/unitary authorities",source:"la",filter:["all",...ye(["E10","E47"])]},{key:"wpc",codes:["E14","N06","S14","W07"],pcio:"parliamentary_constituency",label:"parliamentary constituency",plural:"parliamentary constituencies",source:"wpc"},{key:"sener",codes:["W10"],label:"Senedd electoral region",plural:"Senedd electoral regions",source:"sener"},{key:"senc",codes:["W09"],label:"Senedd constituency",plural:"Senedd constituencies",source:"senc"},{key:"wd",codes:["E05","W05"],pcio:"admin_ward",label:"ward",plural:"wards",source:"wd"},{key:"par",codes:["E04","W04"],pcio:"parish",label:"parish",plural:"parishes",source:"par"},{key:"msoa",codes:["E02","W02"],pcio:"msoa",label:"MSOA",plural:"MSOAs",source:"msoa"},{key:"lsoa",codes:["E01","W01"],pcio:"lsoa",label:"LSOA",plural:"LSOAs",source:"lsoa"},{key:"oa",codes:["E00","W00"],label:"output area",plural:"output areas",source:"oa"}],Nn=hn.map(t=>({...t,layers:ue.filter(a=>a.source===t.id)})),ie=(()=>{let t={};return ue.forEach(a=>a.codes.forEach(n=>{t[n]={...a};const o=dn[n];o!=null&&o.childGroup&&(t[n].label=o.label,t[n].plural=o.plural)})),t})();(()=>{let t={};return ue.forEach(a=>t[a.key]=a),t})();const nt=(t,a=gt)=>yt(t.replace(/\uFEFF/,""),a),pn=t=>t.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-");async function Rn(t,a=window.fetch){let o=await(await a(t)).text(),e=nt(o),i=e.columns.filter(s=>{e[0][s]&&String(e[0][s]).includes("|")});return e.forEach((s,_)=>{i.forEach(c=>{s[c]=s[c].split("|")})}),e}function mn(t){let a=Array.from(new Set(t.sort((e,i)=>e.localeCompare(i)).map(e=>ie[e]))).filter((e,i,s)=>s.map(_=>_.key).indexOf(e.key)===i);const n=["cauth","utla","ltla"].filter(e=>a.map(i=>i.key).includes(e));n.length>1&&(a=a.filter(e=>!n.slice(1).includes(e.key)));const o=ue.map(e=>e.key);return a.sort((e,i)=>o.indexOf(e.key)-o.indexOf(i.key))}async function Dn(t,a=window.fetch){try{let n=t.slice(0,3),e=await(await a(`${un}/${n}/${t}.json`)).json();return e.properties.childTypes=mn(e.properties.child_typecds),{place:e.properties,type:ie[n],geometry:e.properties.end?e.geometry:null}}catch(n){return console.debug(n),{place:null,type:null}}}const rt=(t,a)=>!a||(!t.start||a>t.start)&&(!t.end||a<=t.end);function qe(t,a){var o;const n=[...a.parents];["E","W"].includes(a.areacd[0])&&n.push({areacd:"K04000001",areanm:"England and Wales"});for(const e of n){let i=e.areacd.slice(0,3);if(t.geocodes.includes(i)&&rt(e,t.year))return e.groupcd=(o=ie[i])!=null&&o.key?ie[i].key:"ew",e}return null}function On(t,a){let n=[],o=[];return t.forEach(e=>{let i=qe(e,a);e.geocodes.includes(a.typecd)&&rt(a,e.year)?n.push({...e,place:a}):i&&o.push({...e,place:qe(e,a)})}),[...n,...o]}function Fn(t,a){let n=t,o=t.match(new RegExp(/\{(.*?)\}/g));return Array.isArray(o)&&o.forEach(e=>{if(e.includes("name")){let i=e.slice(1,-1).split(",")[1];n=n.replace(e,`${Ge(a,i,"prefix")} <strong>${Ge(a)}</strong>`)}else n=n.replace(e,a[e.slice(1,-1)])}),n}async function Ln(t,a=window.fetch){const n="https://beta.gss-data.org.uk/sparql",o=encodeURIComponent(`PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX qb: <http://purl.org/linked-data/cube#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX dcat: <http://www.w3.org/ns/dcat#>
PREFIX pmdcat: <http://publishmydata.com/pmdcat#>
PREFIX sdmx-d: <http://purl.org/linked-data/sdmx/2009/dimension#>

SELECT DISTINCT ?label ?topic ?description ?description_md ?uri 
WHERE {
?geo ?match <http://statistics.data.gov.uk/id/statistical-geography/${t}> .
{
  {?geo_uri rdfs:subPropertyOf sdmx-d:refArea . }
  UNION
  {?geo_uri rdfs:label "Statistical Geography"@en .}
}
?obs rdf:type qb:Observation ;
?geo_uri ?geo ;
  qb:dataSet ?datasetUri .
?uri pmdcat:datasetContents ?datasetUri ;
  dcat:keyword "subnational"@en ;
  rdfs:label ?label ;
  rdfs:comment ?description ;
  pmdcat:markdownDescription ?description_md ;
  dcat:theme ?topicUri .
?topicUri rdfs:label ?topic .
FILTER (?match in (skos:exactMatch, owl:sameAs))
}`),e=`${n}?query=${o}`,i=nt(await(await a(e)).text(),_=>{var d,f;const c=((f=(d=_.description_md.match(new RegExp("(?<=###\\sSource\\n\\n)(.*?)(?=\\n\\n)","s")))==null?void 0:d[0])==null?void 0:f.replace(/\(.*?\)|\[|\]/gm,""))||null;return _.sources=c.match(new RegExp("(?<=:\\s)(.*?)(?=\\s$)","gm")),_});return i[0]?(i.sort((_,c)=>_.label.localeCompare(c.label)),{topics:Array.from(new Set(i.map(_=>_.topic))).sort((_,c)=>_.localeCompare(c)).map(_=>({key:pn(_),label:_})),datasets:i}):{topics:null,datasets:null}}function Un(t){return fn.includes(t.slice(0,3))?"area/?code="+t:t+"/"}function jn(t,a){const n=a.key==="msoa"?"hclnm":a.key==="oa"?"areacd":"areanm";return t.children.filter(o=>a.codes.includes(o.areacd.slice(0,3))).sort((o,e)=>o[n].localeCompare(e[n]))}function Wn(t,a){return Et(t,a)}function Vn(t){return t[0].toUpperCase()+t.slice(1)}function He(t){let a,n;function o(s,_){return s[1]?yn:gn}let e=o(t),i=e(t);return{c(){a=I("section"),n=I("form"),i.c(),this.h()},l(s){a=P(s,"SECTION",{});var _=F(a);n=P(_,"FORM",{id:!0,class:!0,"aria-label":!0});var c=F(n);i.l(c),c.forEach(z),_.forEach(z),this.h()},h(){x(n,"id","global-cookie-message"),x(n,"class","cookies-banner clearfix svelte-nl7vav"),x(n,"aria-label","cookie banner")},m(s,_){se(s,a,_),S(a,n),i.m(n,null)},p(s,_){e===(e=o(s))&&i?i.p(s,_):(i.d(1),i=e(s),i&&(i.c(),i.m(n,null)))},d(s){s&&z(a),i.d()}}}function yn(t){let a,n,o,e,i,s,_,c,d,f="change your cookie settings",l,u,m="Hide",p,w;return{c(){a=I("div"),n=I("div"),o=I("div"),e=I("div"),i=I("p"),s=re("You’ve accepted "),_=re(t[2]),c=re(` cookies. You can
              `),d=I("a"),d.textContent=f,l=re(`
              at any time.
              `),u=I("button"),u.textContent=m,this.h()},l(h){a=P(h,"DIV",{});var v=F(a);n=P(v,"DIV",{class:!0});var C=F(n);o=P(C,"DIV",{class:!0});var k=F(o);e=P(k,"DIV",{class:!0});var T=F(e);i=P(T,"P",{class:!0});var y=F(i);s=ae(y,"You’ve accepted "),_=ae(y,t[2]),c=ae(y,` cookies. You can
              `),d=P(y,"A",{href:!0,class:!0,"data-svelte-h":!0}),q(d)!=="svelte-12ky4yy"&&(d.textContent=f),l=ae(y,`
              at any time.
              `),u=P(y,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),q(u)!=="svelte-1rzaqkb"&&(u.textContent=m),y.forEach(z),T.forEach(z),k.forEach(z),C.forEach(z),v.forEach(z),this.h()},h(){x(d,"href","/cookies"),x(d,"class","svelte-nl7vav"),x(u,"type","button"),x(u,"class","cookies-banner__button--hide svelte-nl7vav"),x(i,"class","cookies-banner__confirmation-message svelte-nl7vav"),x(e,"class","cookies-banner__message font-size--18 svelte-nl7vav"),x(o,"class","col svelte-nl7vav"),x(n,"class","cookies-banner__wrapper wrapper svelte-nl7vav")},m(h,v){se(h,a,v),S(a,n),S(n,o),S(o,e),S(e,i),S(i,s),S(i,_),S(i,c),S(i,d),S(i,l),S(i,u),p||(w=be(u,"click",t[9]),p=!0)},p(h,v){v&4&&ut(_,h[2])},d(h){h&&z(a),p=!1,w()}}}function gn(t){let a,n,o,e=`<h1 class="cookies-banner__heading font-size--h3 svelte-nl7vav">Tell us whether you accept cookies</h1> <p class="cookies-banner__body svelte-nl7vav">We would like to
            use cookies to collect anonymous information
            about how you use this prototype.</p> <p class="cookies-banner__body svelte-nl7vav">We use this information to improve our services.</p>`,i,s,_,c,d="Accept cookies",f,l,u,m="Reject cookies",p,w;return{c(){a=I("div"),n=I("div"),o=I("div"),o.innerHTML=e,i=Ie(),s=I("div"),_=I("div"),c=I("button"),c.textContent=d,f=Ie(),l=I("div"),u=I("button"),u.textContent=m,this.h()},l(h){a=P(h,"DIV",{class:!0});var v=F(a);n=P(v,"DIV",{});var C=F(n);o=P(C,"DIV",{class:!0,"data-svelte-h":!0}),q(o)!=="svelte-pka6e6"&&(o.innerHTML=e),i=Pe(C),s=P(C,"DIV",{class:!0});var k=F(s);_=P(k,"DIV",{class:!0});var T=F(_);c=P(T,"BUTTON",{class:!0,"data-gtm-accept-cookies":!0,type:!0,"data-svelte-h":!0}),q(c)!=="svelte-isa78n"&&(c.textContent=d),T.forEach(z),f=Pe(k),l=P(k,"DIV",{class:!0});var y=F(l);u=P(y,"BUTTON",{class:!0,"data-gtm-accept-cookies":!0,"data-svelte-h":!0}),q(u)!=="svelte-10n4oyu"&&(u.textContent=m),y.forEach(z),k.forEach(z),C.forEach(z),v.forEach(z),this.h()},h(){x(o,"class","cookies-banner__message font-size--18 svelte-nl7vav"),x(c,"class","btn btn--full-width btn--primary btn--focus margin-right--2 font-weight-700 font-size--17 text-wrap svelte-nl7vav"),x(c,"data-gtm-accept-cookies","true"),x(c,"type","submit"),x(_,"class","cookies-banner__button cookies-banner__button--accept svelte-nl7vav"),x(u,"class","btn btn--full-width btn--secondary btn--focus font-weight-700 font-size--17 text-wrap svelte-nl7vav"),x(u,"data-gtm-accept-cookies","true"),x(l,"class","cookies-banner__button svelte-nl7vav"),x(s,"class","cookies-banner__buttons svelte-nl7vav"),x(a,"class","cookies-banner__wrapper wrapper svelte-nl7vav")},m(h,v){se(h,a,v),S(a,n),S(n,o),S(n,i),S(n,s),S(s,_),S(_,c),S(s,f),S(s,l),S(l,u),p||(w=[be(c,"click",ze(t[7])),be(u,"click",ze(t[8]))],p=!0)},p:ge,d(h){h&&z(a),p=!1,Ke(w)}}}function bn(t){let a,n=t[0]&&He(t);return{c(){n&&n.c(),a=Te()},l(o){n&&n.l(o),a=Te()},m(o,e){n&&n.m(o,e),se(o,a,e)},p(o,[e]){o[0]?n?n.p(o,e):(n=He(o),n.c(),n.m(a.parentNode,a)):n&&(n.d(1),n=null)},i:ge,o:ge,d(o){o&&z(a),n&&n.d(o)}}}function Gn(t){window.dataLayer&&window.dataLayer.push(t)}function vn(){return-1<document.cookie.indexOf("cookies_preferences_set=true")}function wn(){var t=document.cookie.match(new RegExp("(^|;) ?cookies_policy=([^;]*)(;|$)"));if(t){var a=decodeURIComponent(t[2]),n=JSON.parse(a);return n.usage}return!1}function kn(t,a,n){let o;lt(t,Ne,h=>n(12,o=h));let{analyticsId:e}=a,{analyticsProps:i={}}=a,{usageCookies:s=!1}=a,_,c=!1,d=!1,f="";function l(h){let v=31536e3,C=window.location.hostname,k=!0,T=`%7B%22essential%22%3Atrue%2C%22usage%22%3A${h=="all"?"true":"false"}%7D`,y="/";document.cookie=`cookies_preferences_set=${k};max-age=${v};domain=${C};path=${y};`,document.cookie=`cookies_policy=${T};max-age=${v};domain=${C};path=${y};`,n(2,f=h=="all"?"all":"only essential"),h=="all"&&n(4,s=!0),n(1,d=!0),h=="all"&&u()}function u(){console.log("initialising analytics"),window.dataLayer=[{analyticsOptOut:!1,"gtm.whitelist":["google","hjtc","lcl"],"gtm.blacklist":["customScripts","sp","adm","awct","k","d","j"],...i}],Ne&&o.url.href,function(h,v,C,k,T){h[k]=h[k]||[],h[k].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var y=v.head,N=v.createElement(C),M=k!="dataLayer"?"&l="+k:"";N.async=!0,N.src="https://www.googletagmanager.com/gtm.js?id="+T+M,y.appendChild(N)}(window,document,"script","dataLayer",e)}ct(()=>{_=!0,n(0,c=!vn()),n(4,s=wn()),s&&_&&u()});const m=()=>l("all"),p=()=>l("reject"),w=()=>n(0,c=!1);return t.$$set=h=>{"analyticsId"in h&&n(5,e=h.analyticsId),"analyticsProps"in h&&n(6,i=h.analyticsProps),"usageCookies"in h&&n(4,s=h.usageCookies)},[c,d,f,l,s,e,i,m,p,w]}class Bn extends it{constructor(a){super(),st(this,a,kn,bn,_t,{analyticsId:5,analyticsProps:6,usageCookies:4})}}export{Bn as A,zn as a,Gn as b,ie as c,Dn as d,xn as e,Nt as f,Rn as g,Tn as h,On as i,Ge as j,Ln as k,In as l,Un as m,fn as n,Pn as o,Fn as p,Nn as q,Wn as r,jn as s,Sn as t,An as u,Vn as v,ue as w,dn as x};
