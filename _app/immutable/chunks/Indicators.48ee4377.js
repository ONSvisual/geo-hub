import{s as R,a as E,c as B,i as H,d as _,I as K,f as w,l as N,g as k,h as S,m as A,j as I,F as P,C as g,n as C}from"./scheduler.0afccbf5.js";import{S as W,i as X,b as L,d as j,m as q,a as p,t as v,e as D,g as M,c as O}from"./index.bcdabb8d.js";import{e as F}from"./Table.svelte_svelte_type_style_lang.7cd8d823.js";import{b as T}from"./paths.86064273.js";import{d as Y,b as Z,I as Q}from"./Icon.0b43fb9f.js";import{c as U}from"./index.c6f66d7c.js";import{S as y}from"./Section.d5b527e3.js";function V(r,t,l){const o=r.slice();return o[6]=t[l],o[8]=l,o}function z(r,t,l){const o=r.slice();return o[9]=t[l],o}function G(r){let t,l,o,s=r[9].label+"",n,i,e,f,m,a=r[9].subtitle+"",$,h;return e=new Q({props:{type:"chevron",margin:"4px 0 0"}}),{c(){t=w("li"),l=w("a"),o=w("span"),n=N(s),i=E(),L(e.$$.fragment),m=E(),$=N(a),this.h()},l(u){t=k(u,"LI",{});var c=S(t);l=k(c,"A",{href:!0,class:!0});var d=S(l);o=k(d,"SPAN",{});var b=S(o);n=A(b,s),b.forEach(_),i=B(d),j(e.$$.fragment,d),d.forEach(_),m=B(c),$=A(c,a),c.forEach(_),this.h()},h(){I(l,"href",f=T+"/datasets/"+r[9].code+"/"),I(l,"class","indicator-link")},m(u,c){H(u,t,c),g(t,l),g(l,o),g(o,n),g(l,i),q(e,l,null),g(t,m),g(t,$),h=!0},p(u,c){(!h||c&1)&&s!==(s=u[9].label+"")&&C(n,s),(!h||c&1&&f!==(f=T+"/datasets/"+u[9].code+"/"))&&I(l,"href",f),(!h||c&1)&&a!==(a=u[9].subtitle+"")&&C($,a)},i(u){h||(p(e.$$.fragment,u),h=!0)},o(u){v(e.$$.fragment,u),h=!1},d(u){u&&_(t),D(e)}}}function J(r){let t,l,o=U(r[6])+"",s,n,i,e;function f(...h){return r[4](r[6],...h)}let m=F(r[0].indicators.filter(f)),a=[];for(let h=0;h<m.length;h+=1)a[h]=G(z(r,m,h));const $=h=>v(a[h],1,1,()=>{a[h]=null});return{c(){t=w("div"),l=w("h3"),s=N(o),n=E(),i=w("ul");for(let h=0;h<a.length;h+=1)a[h].c();this.h()},l(h){t=k(h,"DIV",{});var u=S(t);l=k(u,"H3",{class:!0});var c=S(l);s=A(c,o),c.forEach(_),n=B(u),i=k(u,"UL",{class:!0});var d=S(i);for(let b=0;b<a.length;b+=1)a[b].l(d);d.forEach(_),u.forEach(_),this.h()},h(){I(l,"class","title-indicators"),I(i,"class","list-columns list-indicators"),P(t,"visuallyhidden",!(r[3]||!r[1]&&r[8]===0))},m(h,u){H(h,t,u),g(t,l),g(l,s),g(t,n),g(t,i);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(i,null);e=!0},p(h,u){if(r=h,(!e||u&1)&&o!==(o=U(r[6])+"")&&C(s,o),u&1){m=F(r[0].indicators.filter(f));let c;for(c=0;c<m.length;c+=1){const d=z(r,m,c);a[c]?(a[c].p(d,u),p(a[c],1)):(a[c]=G(d),a[c].c(),p(a[c],1),a[c].m(i,null))}for(M(),c=m.length;c<a.length;c+=1)$(c);O()}(!e||u&10)&&P(t,"visuallyhidden",!(r[3]||!r[1]&&r[8]===0))},i(h){if(!e){for(let u=0;u<m.length;u+=1)p(a[u]);e=!0}},o(h){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)v(a[u]);e=!1},d(h){h&&_(t),K(a,h)}}}function x(r){let t=r[1]&&r[3]?"Hide indicators":r[1]?"Show indicators":r[3]?"Show fewer indicators":`Show all ${r[0].indicators.length} indiators`,l,o,s,n;return s=new Q({props:{type:"chevron",rotation:r[3]?90:-90}}),{c(){l=N(t),o=E(),L(s.$$.fragment)},l(i){l=A(i,t),o=B(i),j(s.$$.fragment,i)},m(i,e){H(i,l,e),H(i,o,e),q(s,i,e),n=!0},p(i,e){(!n||e&11)&&t!==(t=i[1]&&i[3]?"Hide indicators":i[1]?"Show indicators":i[3]?"Show fewer indicators":`Show all ${i[0].indicators.length} indiators`)&&C(l,t);const f={};e&8&&(f.rotation=i[3]?90:-90),s.$set(f)},i(i){n||(p(s.$$.fragment,i),n=!0)},o(i){v(s.$$.fragment,i),n=!1},d(i){i&&(_(l),_(o)),D(s,i)}}}function ee(r){let t,l,o,s=F(r[0].topics),n=[];for(let e=0;e<s.length;e+=1)n[e]=J(V(r,s,e));const i=e=>v(n[e],1,1,()=>{n[e]=null});return l=new Z({props:{variant:"ghost",small:!0,$$slots:{default:[x]},$$scope:{ctx:r}}}),l.$on("click",r[5]),{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=E(),L(l.$$.fragment)},l(e){for(let f=0;f<n.length;f+=1)n[f].l(e);t=B(e),j(l.$$.fragment,e)},m(e,f){for(let m=0;m<n.length;m+=1)n[m]&&n[m].m(e,f);H(e,t,f),q(l,e,f),o=!0},p(e,f){if(f&11){s=F(e[0].topics);let a;for(a=0;a<s.length;a+=1){const $=V(e,s,a);n[a]?(n[a].p($,f),p(n[a],1)):(n[a]=J($),n[a].c(),p(n[a],1),n[a].m(t.parentNode,t))}for(M(),a=s.length;a<n.length;a+=1)i(a);O()}const m={};f&4107&&(m.$$scope={dirty:f,ctx:e}),l.$set(m)},i(e){if(!o){for(let f=0;f<s.length;f+=1)p(n[f]);p(l.$$.fragment,e),o=!0}},o(e){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)v(n[f]);v(l.$$.fragment,e),o=!1},d(e){e&&_(t),K(n,e),D(l,e)}}}function te(r){let t,l;return t=new y({props:{title:r[2],theme:"dark",background:"#003c57",width:"wide",marginTop:!0,$$slots:{default:[ee]},$$scope:{ctx:r}}}),{c(){L(t.$$.fragment)},l(o){j(t.$$.fragment,o)},m(o,s){q(t,o,s),l=!0},p(o,[s]){const n={};s&4&&(n.title=o[2]),s&4107&&(n.$$scope={dirty:s,ctx:o}),t.$set(n)},i(o){l||(p(t.$$.fragment,o),l=!0)},o(o){v(t.$$.fragment,o),l=!1},d(o){D(t,o)}}}function le(r,t,l){let{data:o}=t,{compact:s=!1}=t,{title:n="Fina a dataset"}=t,i=!1;Y(()=>l(3,i=!1));const e=(m,a)=>a.topic===m,f=()=>l(3,i=!i);return r.$$set=m=>{"data"in m&&l(0,o=m.data),"compact"in m&&l(1,s=m.compact),"title"in m&&l(2,n=m.title)},[o,s,n,i,e,f]}class fe extends W{constructor(t){super(),X(this,t,le,te,R,{data:0,compact:1,title:2})}}export{fe as I};
