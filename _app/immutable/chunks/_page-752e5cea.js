import{c as g,g as i,a as c}from"./config-6631cda0.js";async function m({fetch:n,params:d,parent:u}){const t=await u();let y=t.places,f=t.lookup,h=t.links,p=null,s=null,r=d.code.replaceAll("/","");if(r.length===9){let l=r.slice(0,3),e=await(await n(`${g}/${l}/${r}.json`)).json();i[l]&&(e.properties.typenm=i[l].label);let a=e.properties.children[0]?Array.from(new Set(e.properties.children.map(o=>o.areacd.slice(0,3)))):null;e.properties.childTypes=a?Array.from(new Set(a.map(o=>c[o]))):[],l==="E12"&&(e.properties.childTypes=e.properties.childTypes.filter(o=>o.key!=="lad"),r==="E12000007"&&(e.properties.childTypes=[{key:"lad",codes:["E09"],label:"borough",plural:"boroughs"},...e.properties.childTypes])),p=e.properties,s=c[l]}return{places:y,lookup:f,place:p,type:s,links:h}}const T=Object.freeze(Object.defineProperty({__proto__:null,load:m},Symbol.toStringTag,{value:"Module"}));export{T as _,m as l};
