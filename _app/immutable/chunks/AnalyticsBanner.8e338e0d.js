import{S as tt,i as rt,s as nt,e as ze,b as le,D as ve,h as S,K as at,o as ot,k as x,l as T,m as z,n as C,C as E,q as W,r as L,G as ke,u as it,a as oe,c as ie,H as Ie,J as st}from"./index.885ffdd3.js";import{p as Pe}from"./stores.a081edcd.js";var Ne={},he={},pe=34,J=10,me=13;function qe(t){return new Function("d","return {"+t.map(function(a,n){return JSON.stringify(a)+": d["+n+'] || ""'}).join(",")+"}")}function _t(t,a){var n=qe(t);return function(o,e){return a(n(o),e,t)}}function De(t){var a=Object.create(null),n=[];return t.forEach(function(o){for(var e in o)e in a||n.push(a[e]=e)}),n}function O(t,a){var n=t+"",o=n.length;return o<a?new Array(a-o+1).join(0)+n:n}function lt(t){return t<0?"-"+O(-t,6):t>9999?"+"+O(t,6):O(t,4)}function ct(t){var a=t.getUTCHours(),n=t.getUTCMinutes(),o=t.getUTCSeconds(),e=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":lt(t.getUTCFullYear())+"-"+O(t.getUTCMonth()+1,2)+"-"+O(t.getUTCDate(),2)+(e?"T"+O(a,2)+":"+O(n,2)+":"+O(o,2)+"."+O(e,3)+"Z":o?"T"+O(a,2)+":"+O(n,2)+":"+O(o,2)+"Z":n||a?"T"+O(a,2)+":"+O(n,2)+"Z":"")}function ut(t){var a=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function o(l,u){var m,p,y=e(l,function(h,M){if(m)return m(h,M-1);p=h,m=u?_t(h,u):qe(h)});return y.columns=p||[],y}function e(l,u){var m=[],p=l.length,y=0,h=0,M,A=p<=0,k=!1;l.charCodeAt(p-1)===J&&--p,l.charCodeAt(p-1)===me&&--p;function P(){if(A)return he;if(k)return k=!1,Ne;var N,I=y,R;if(l.charCodeAt(I)===pe){for(;y++<p&&l.charCodeAt(y)!==pe||l.charCodeAt(++y)===pe;);return(N=y)>=p?A=!0:(R=l.charCodeAt(y++))===J?k=!0:R===me&&(k=!0,l.charCodeAt(y)===J&&++y),l.slice(I+1,N-1).replace(/""/g,'"')}for(;y<p;){if((R=l.charCodeAt(N=y++))===J)k=!0;else if(R===me)k=!0,l.charCodeAt(y)===J&&++y;else if(R!==n)continue;return l.slice(I,N)}return A=!0,l.slice(I,p)}for(;(M=P())!==he;){for(var w=[];M!==Ne&&M!==he;)w.push(M),M=P();u&&(w=u(w,h++))==null||m.push(w)}return m}function i(l,u){return l.map(function(m){return u.map(function(p){return d(m[p])}).join(t)})}function s(l,u){return u==null&&(u=De(l)),[u.map(d).join(t)].concat(i(l,u)).join(`
`)}function _(l,u){return u==null&&(u=De(l)),i(l,u).join(`
`)}function c(l){return l.map(f).join(`
`)}function f(l){return l.map(d).join(t)}function d(l){return l==null?"":l instanceof Date?ct(l):a.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l}return{parse:o,parseRows:e,format:s,formatBody:_,formatRows:c,formatRow:f,formatValue:d}}var ft=ut(","),dt=ft.parse;function ht(t){for(var a in t){var n=t[a].trim(),o,e;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(o=+n))n=o;else if(e=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))pt&&e[4]&&!e[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[a]=n}return t}const pt=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function mt(t){return t}function yt(t){if(t==null)return mt;var a,n,o=t.scale[0],e=t.scale[1],i=t.translate[0],s=t.translate[1];return function(_,c){c||(a=n=0);var f=2,d=_.length,l=new Array(d);for(l[0]=(a+=_[0])*o+i,l[1]=(n+=_[1])*e+s;f<d;)l[f]=_[f],++f;return l}}function gt(t,a){for(var n,o=t.length,e=o-a;e<--o;)n=t[e],t[e++]=t[o],t[o]=n}function bt(t,a){return typeof a=="string"&&(a=t.objects[a]),a.type==="GeometryCollection"?{type:"FeatureCollection",features:a.geometries.map(function(n){return Oe(t,n)})}:Oe(t,a)}function Oe(t,a){var n=a.id,o=a.bbox,e=a.properties==null?{}:a.properties,i=vt(t,a);return n==null&&o==null?{type:"Feature",properties:e,geometry:i}:o==null?{type:"Feature",id:n,properties:e,geometry:i}:{type:"Feature",id:n,bbox:o,properties:e,geometry:i}}function vt(t,a){var n=yt(t.transform),o=t.arcs;function e(d,l){l.length&&l.pop();for(var u=o[d<0?~d:d],m=0,p=u.length;m<p;++m)l.push(n(u[m],m));d<0&&gt(l,p)}function i(d){return n(d)}function s(d){for(var l=[],u=0,m=d.length;u<m;++u)e(d[u],l);return l.length<2&&l.push(l[0]),l}function _(d){for(var l=s(d);l.length<4;)l.push(l[0]);return l}function c(d){return d.map(_)}function f(d){var l=d.type,u;switch(l){case"GeometryCollection":return{type:l,geometries:d.geometries.map(f)};case"Point":u=i(d.coordinates);break;case"MultiPoint":u=d.coordinates.map(i);break;case"LineString":u=s(d.arcs);break;case"MultiLineString":u=d.arcs.map(s);break;case"Polygon":u=c(d.arcs);break;case"MultiPolygon":u=d.arcs.map(c);break;default:return null}return{type:l,coordinates:u}}return f(a)}function kt(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function se(t,a){if((n=(t=a?t.toExponential(a-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}function wt(t){return t=se(Math.abs(t)),t?t[1]:NaN}function Et(t,a){return function(n,o){for(var e=n.length,i=[],s=0,_=t[0],c=0;e>0&&_>0&&(c+_+1>o&&(_=Math.max(1,o-c)),i.push(n.substring(e-=_,e+_)),!((c+=_+1)>o));)_=t[s=(s+1)%t.length];return i.reverse().join(a)}}function Mt(t){return function(a){return a.replace(/[0-9]/g,function(n){return t[+n]})}}var Ct=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function we(t){if(!(a=Ct.exec(t)))throw new Error("invalid format: "+t);var a;return new Me({fill:a[1],align:a[2],sign:a[3],symbol:a[4],zero:a[5],width:a[6],comma:a[7],precision:a[8]&&a[8].slice(1),trim:a[9],type:a[10]})}we.prototype=Me.prototype;function Me(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Me.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function St(t){e:for(var a=t.length,n=1,o=-1,e;n<a;++n)switch(t[n]){case".":o=e=n;break;case"0":o===0&&(o=n),e=n;break;default:if(!+t[n])break e;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(e+1):t}var Ye;function At(t,a){var n=se(t,a);if(!n)return t+"";var o=n[0],e=n[1],i=e-(Ye=Math.max(-8,Math.min(8,Math.floor(e/3)))*3)+1,s=o.length;return i===s?o:i>s?o+new Array(i-s+1).join("0"):i>0?o.slice(0,i)+"."+o.slice(i):"0."+new Array(1-i).join("0")+se(t,Math.max(0,a+i-1))[0]}function Re(t,a){var n=se(t,a);if(!n)return t+"";var o=n[0],e=n[1];return e<0?"0."+new Array(-e).join("0")+o:o.length>e+1?o.slice(0,e+1)+"."+o.slice(e+1):o+new Array(e-o.length+2).join("0")}const je={"%":(t,a)=>(t*100).toFixed(a),b:t=>Math.round(t).toString(2),c:t=>t+"",d:kt,e:(t,a)=>t.toExponential(a),f:(t,a)=>t.toFixed(a),g:(t,a)=>t.toPrecision(a),o:t=>Math.round(t).toString(8),p:(t,a)=>Re(t*100,a),r:Re,s:At,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function We(t){return t}var Le=Array.prototype.map,Ue=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function xt(t){var a=t.grouping===void 0||t.thousands===void 0?We:Et(Le.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",o=t.currency===void 0?"":t.currency[1]+"",e=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?We:Mt(Le.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",_=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(l){l=we(l);var u=l.fill,m=l.align,p=l.sign,y=l.symbol,h=l.zero,M=l.width,A=l.comma,k=l.precision,P=l.trim,w=l.type;w==="n"?(A=!0,w="g"):je[w]||(k===void 0&&(k=12),P=!0,w="g"),(h||u==="0"&&m==="=")&&(h=!0,u="0",m="=");var N=y==="$"?n:y==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",I=y==="$"?o:/[%p]/.test(w)?s:"",R=je[w],q=/[defgprs%]/.test(w);k=k===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function V(v){var U=N,D=I,j,X,G;if(w==="c")D=R(v)+D,v="";else{v=+v;var B=v<0||1/v<0;if(v=isNaN(v)?c:R(Math.abs(v),k),P&&(v=St(v)),B&&+v==0&&p!=="+"&&(B=!1),U=(B?p==="("?p:_:p==="-"||p==="("?"":p)+U,D=(w==="s"?Ue[8+Ye/3]:"")+D+(B&&p==="("?")":""),q){for(j=-1,X=v.length;++j<X;)if(G=v.charCodeAt(j),48>G||G>57){D=(G===46?e+v.slice(j+1):v.slice(j))+D,v=v.slice(0,j);break}}}A&&!h&&(v=a(v,1/0));var H=U.length+v.length+D.length,F=H<M?new Array(M-H+1).join(u):"";switch(A&&h&&(v=a(F+v,F.length?M-D.length:1/0),F=""),m){case"<":v=U+v+D+F;break;case"=":v=U+F+v+D;break;case"^":v=F.slice(0,H=F.length>>1)+U+v+D+F.slice(H);break;default:v=F+U+v+D;break}return i(v)}return V.toString=function(){return l+""},V}function d(l,u){var m=f((l=we(l),l.type="f",l)),p=Math.max(-8,Math.min(8,Math.floor(wt(u)/3)))*3,y=Math.pow(10,-p),h=Ue[8+p/3];return function(M){return m(y*M)+h}}return{format:f,formatPrefix:d}}var Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xe={exports:{}};(function(){var t,a,n,o,e,i=[].slice;t="a",e="an",n={0:{8:{_:e},9:{_:e},"-":{1:{1:{_:e}},4:{" ":{_:t},_:e},6:{"-":{_:e}},8:{_:e}}},1:{1:{0:{_:t},1:{_:t},2:{_:t},3:{_:t},4:{_:t},5:{_:t},6:{_:t},7:{_:t},8:{_:t},9:{_:t},_:e,".":{4:{_:t}}},8:{0:{0:{_:e},1:{_:e},2:{_:e},3:{_:e},4:{_:e},5:{_:e},6:{_:e},7:{_:e},8:{_:e},9:{_:e},_:t},1:{"-":{_:t}," ":{_:t}},2:{"-":{_:t}," ":{_:t}},3:{"-":{_:t}," ":{_:t}},4:{"-":{_:t}," ":{_:t}},5:{"-":{_:t}," ":{_:t}},6:{"-":{_:t}," ":{_:t}},7:{"-":{_:t}," ":{_:t}},8:{"-":{_:t}," ":{_:t}},9:{"-":{_:t}," ":{_:t}},_:e}},8:{0:{0:{x:{_:t}}},9:{0:{_:t}},_:e,",":{1:{_:t}}},"`":{a:{_:e}},"£":{8:{_:e}},"∞":{_:e},a:{" ":{_:t},b:{o:{u:{t:{"-":{_:e}},_:t}}},g:{a:{i:{_:t}}},l:{"-":{I:{_:t}},g:{u:{_:t}},t:{h:{_:t}}},m:{o:{n:{_:t}}},n:{" ":{_:t},d:{a:{_:e},e:{_:e},r:{_:e},_:t},o:{t:{_:t}},y:{w:{_:t}}},p:{r:{e:{_:t}}},r:{e:{" ":{_:t},":":{_:t}},t:{í:{_:t}}},_:e},A:{$:{_:t},A:{A:{_:t}},n:{d:{a:{l:{u:{c:{_:t}}}}}},r:{m:{a:{t:{_:t}}}},s:{t:{u:{r:{i:{a:{s:{_:t}}}}}}},t:{h:{l:{e:{t:{i:{_:e}}},o:{_:e},_:t}}},U:{$:{_:t},D:{_:t},S:{C:{_:t}}},_:e},Á:{_:e},á:{";":{_:e}},à:{_:e},Ä:{_:e},ā:{_:e},Å:{_:e},æ:{_:e},Æ:{n:{_:t},_:e},D:{ú:{n:{_:t}}},e:{".":{g:{_:t}},a:{c:{h:{" ":{_:t}}}},i:{t:{h:{e:{r:{" ":{_:t},".":{_:t}}}}}},l:{"-":{_:t},l:{a:{_:t}}},m:{p:{e:{z:{_:t}}}},n:{o:{u:{g:{_:t}}}},u:{p:{" ":{_:e}},_:t},w:{_:t},x:{i:{s:{t:{s:{_:t}}}}},_:e},E:{m:{p:{e:{z:{_:t}}}},n:{a:{m:{_:t}}},s:{p:{a:{d:{_:e}},e:{_:e},o:{_:e},_:t}},u:{l:{_:e},_:t},U:{R:{_:t}},_:e},é:{g:{_:t},t:{a:{_:e},u:{_:e},_:t},_:e},É:{_:e},f:{"-":{_:e}," ":{_:e},"/":{_:e},M:{_:e},p:{_:e},t:{_:e}},F:{0:{_:e},1:{_:e},2:{_:e},3:{_:e},4:{_:e},5:{_:e},6:{_:e},9:{_:e},"'":{_:e},"-":{_:e}," ":{_:e},'"':{_:e},"#":{_:e},",":{_:e},".":{_:e},"/":{_:e},"”":{_:e},A:{C:{_:t},D:{_:t},I:{R:{_:t}},L:{_:t},M:{_:t},N:{_:t},P:{_:t},Q:{_:t},R:{_:t},S:{_:t},T:{_:t},_:e},B:{_:e},C:{_:e},c:{_:e},D:{_:e},E:{C:{_:e},I:{_:e}},F:{" ":{_:t},_:e},f:{_:e},h:{_:e},H:{_:e},I:{A:{T:{_:t},_:e},D:{" ":{_:e}},R:{" ":{_:e}},S:{" ":{_:e}}},K:{_:e},L:{C:{_:e},N:{_:e},P:{_:e}},M:{R:{_:t},_:e},O:{" ":{_:e},I:{" ":{_:e}}},P:{".":{_:t},"?":{_:t},C:{"?":{_:t}},_:e},R:{C:{_:e},S:{_:e}},S:{_:e},T:{S:{_:t},T:{_:t},_:e},U:{" ":{_:e},",":{_:e},".":{_:e}},V:{_:e},W:{D:{_:t},_:e},X:{_:e},Y:{_:e},σ:{_:e}},G:{h:{a:{e:{_:e},i:{_:e}}}},h:{"'":{_:e},"-":{U:{_:t},_:e}," ":{_:e},'"':{_:e},",":{_:e},C:{_:e},e:{i:{r:{a:{_:t},_:e}}},i:{m:{s:{_:e}},s:{t:{o:{r:{i:{c:{_:t}}}}}}},o:{m:{a:{_:e},m:{_:e}},n:{e:{y:{_:t}},k:{_:t},v:{_:t},_:e},r:{s:{" ":{_:e}}},u:{r:{_:e}}},t:{t:{p:{" ":{_:e}},_:t},_:e}},H:{1:{_:e},2:{_:e},3:{_:e},4:{_:e},5:{_:e},"'":{_:e},"-":{_:e}," ":{_:e},'"':{_:e},"&":{_:e},",":{_:e},".":{A:{_:t},_:e},"+":{_:e},a:{b:{i:{l:{i:{t:{a:{t:{i:{o:{n:{s:{_:e}}}}}}}}}}}},B:{_:e},C:{_:e},D:{B:{_:t},_:e},e:{i:{r:{_:e}}},F:{_:e},G:{_:e},H:{_:e},I:{D:{_:t},G:{_:t},M:{_:t},P:{_:t},_:e},L:{A:{"-":{D:{_:t}}},_:e},M:{_:e},N:{_:e},o:{n:{d:{_:t},e:{s:{_:e},_:t},g:{_:t},k:{_:t},o:{l:{_:t}},_:e},u:{r:{_:e}}},O:{" ":{_:e},V:{_:e}},P:{_:e},Q:{_:e},R:{T:{_:t},_:e},S:{" ":{_:t},R:{_:t},T:{_:t},_:e},T:{P:{_:t},_:e},V:{_:e},W:{T:{_:e}}},i:{".":{e:{_:t}},b:{n:{_:t}},f:{" ":{_:t}},i:{_:t},n:{c:{l:{u:{d:{i:{_:t}}}}},d:{i:{c:{a:{t:{e:{s:{_:t}}}}}}},s:{t:{e:{a:{d:{"?":{_:e}},_:t}}}}},s:{" ":{_:t},".":{_:t}},t:{" ":{_:t}},u:{_:t},_:e},I:{"-":{A:{_:t},I:{_:t}},I:{I:{_:t}},l:{b:{_:t}},M:{H:{_:t}},m:{a:{m:{s:{_:t}}}},R:{"£":{_:t}},s:{l:{a:{m:{" ":{_:t},",":{_:t},".":{_:t}},n:{d:{s:{_:t}}}}}},_:e},İ:{_:e},J:{i:{a:{n:{_:t},_:e}}},k:{u:{" ":{_:e}}},l:{" ":{_:e},'"':{_:e},p:{_:e}},L:{1:{_:e},2:{_:e},3:{_:e},5:{_:e},"'":{A:{_:t},_:e},"-":{a:{_:t},_:e}," ":{_:e},'"':{_:e},"&":{_:e},",":{_:e},".":{_:e},"/":{_:e},a:{e:{_:e},o:{i:{g:{_:e}}}},A:{" ":{_:e},L:{_:e},P:{_:e}},B:{_:e},C:{_:e},D:{_:e},E:{A:{_:t},E:{_:t},G:{_:t},O:{_:t},P:{_:t},T:{_:t},_:e},F:{_:e},G:{_:e},H:{_:e},I:{R:{_:e}},L:{_:e},M:{X:{_:t},_:e},N:{_:e},o:{c:{h:{a:{_:e}}}},O:{E:{_:e}},P:{_:e},R:{_:e},S:{_:e},T:{_:e},U:{" ":{_:e}},V:{_:e},X:{_:e},Z:{_:e}},m:{"-":{_:e}," ":{_:e},'"':{_:e},"&":{_:e},a:{k:{e:{s:{" ":{_:e}}}}},b:{_:e},e:{i:{n:{_:e}},n:{t:{i:{o:{n:{s:{_:e}}}}}}},f:{_:e},p:{_:e},R:{_:e},t:{_:e}},M:{1:{9:{0:{_:e},_:t},_:e},2:{_:e},3:{_:e},4:{_:e},5:{_:e},6:{_:e},7:{_:e},8:{_:e},9:{_:e},"'":{_:e},"-":{t:{_:t},_:e}," ":{_:e},'"':{_:e},"&":{_:e},",":{_:e},".":{A:{".":{S:{_:t}}},_:e},"/":{_:e},A:{C:{_:t},D:{_:t},F:{_:t},G:{_:t},J:{_:t},L:{_:t},M:{_:t},N:{_:t},P:{_:t},R:{_:t},S:{_:t},T:{_:t},X:{_:t},Y:{_:t},_:e},B:{_:e},C:{_:e},D:{_:e},e:{"-":{_:e}},E:{d:{_:e},n:{_:e},P:{_:e}},F:{_:e},f:{_:e},G:{_:e},H:{_:e},h:{_:e},i:{e:{_:e}},I:{5:{_:e},6:{_:e}," ":{_:e},A:{_:e},T:{_:e}},K:{_:e},L:{_:e},M:{T:{_:t},_:e},N:{_:e},o:{U:{_:e}},O:{" ":{_:e},T:{" ":{_:e}},U:{_:e}},P:{_:e},R:{_:e},S:{_:e},s:{c:{_:e}},T:{R:{_:t},_:e},U:{V:{_:e}},V:{_:e},X:{_:e}},N:{4:{_:e},6:{_:e},"'":{_:e},"-":{a:{_:t},S:{_:t},_:e}," ":{_:e},'"':{_:e},",":{_:e},".":{Y:{_:t},_:e},"=":{_:e},"²":{_:e},a:{o:{_:e}},A:{" ":{_:e},A:{F:{_:t},_:e},I:{_:e},S:{L:{_:e}}},B:{_:e},C:{_:e},D:{_:e},E:{A:{_:e},H:{_:e},S:{" ":{_:e}}},F:{_:e},G:{_:e},H:{_:e},I:{C:{_:t},L:{_:t},M:{H:{_:e},_:t},N:{_:t},S:{_:t},_:e},J:{C:{_:e}},K:{_:e},L:{S:{_:t},_:e},M:{_:e},N:{R:{_:e},T:{_:e}},P:{O:{V:{"-":{_:e}},_:t},_:e},R:{J:{_:t},T:{_:t},_:e},S:{W:{_:t},_:e},T:{$:{_:t},_:e},U:{S:{_:e}},V:{_:e},v:{_:e},W:{A:{_:e}},X:{_:e},Y:{P:{_:e},U:{_:e}}},n:{"-":{_:e},"−":{_:e}," ":{_:e},'"':{_:e},"&":{_:e},",":{_:e},"+":{_:e},"×":{_:e},d:{a:{_:e}},p:{a:{_:e}},t:{_:e},V:{_:e},W:{_:e}},o:{b:{r:{_:t}},c:{c:{u:{r:{s:{_:t}}}},h:{o:{_:t}}},f:{" ":{_:t}},n:{"-":{_:e},"/":{_:e},b:{_:e},c:{o:{_:e}},d:{_:e},e:{r:{_:e}},g:{_:e},i:{_:e},l:{_:e},m:{_:e},o:{_:e},r:{_:e},s:{_:e},t:{_:e},u:{_:e},w:{_:e},y:{_:e},_:t},r:{" ":{_:t},",":{_:t}},u:{i:{_:t}},_:e},O:{b:{e:{r:{s:{t:{" ":{_:e},l:{_:e}},_:t}}}},l:{v:{_:t}},n:{e:{i:{_:e},_:t}},N:{E:{_:t}},o:{p:{_:t}},u:{i:{_:t}},_:e},Ó:{_:e},Ö:{_:e},ö:{_:e},Ō:{_:e},ō:{_:e},P:{h:{o:{b:{_:e},i:{_:e}}}},r:{"'":{_:e},"-":{_:e}," ":{_:e},'"':{_:e},"&":{_:e},".":{_:e},e:{f:{e:{r:{s:{_:e}}}}},f:{_:e},m:{_:e},s:{_:e}},R:{1:{0:{_:t},_:e},2:{_:e},3:{_:e},4:{_:e},5:{_:e},6:{_:e},"'":{_:e},"-":{_:e}," ":{_:e},'"':{_:e},"&":{_:e},",":{_:e},".":{C:{_:t},_:e},"/":{_:e},A:{" ":{_:e},F:{_:e}},B:{_:e},C:{_:e},D:{_:e},E:{" ":{_:e},R:{_:e}},F:{_:e},f:{_:e},G:{_:e},H:{S:{_:e}},I:{A:{_:e},C:{" ":{_:e}}},J:{_:e},K:{_:e},L:{" ":{_:t},_:e},M:{1:{_:t},_:e},N:{G:{_:t},_:e},O:{T:{_:e}},P:{_:e},Q:{_:e},R:{_:e},S:{" ":{_:t},")":{_:t},",":{_:t},".":{_:t},"?":{_:t},T:{_:t},_:e},T:{_:e},U:{_:e},V:{_:e},X:{_:e}},s:{"-":{_:e},'"':{_:e},")":{_:e},",":{_:e},".":{_:e},a:{y:{s:{_:e}}},i:{c:{h:{_:e}}},p:{3:{_:e},r:{o:{t:{_:e}}}},s:{h:{_:e}},t:{a:{t:{e:{s:{" ":{_:e},":":{_:e}}}}}},v:{a:{_:t},e:{_:t},_:e}},S:{1:{_:e},2:{_:e},3:{_:e},4:{_:e},5:{_:e},6:{_:e},"'":{_:e},"-":{_:e}," ":{_:e},'"':{_:e},"&":{W:{_:t},_:e},",":{_:e},".":{B:{_:e},M:{_:e},O:{_:e}},"”":{_:e},A:{"-":{1:{_:t},_:e}," ":{_:e},C:{D:{_:e}},E:{_:e},S:{E:{_:t},_:e},T:{" ":{_:e},B:{_:e}}},B:{_:e},C:{A:{" ":{_:e}},C:{_:e},M:{_:e},O:{" ":{_:e}},R:{A:{_:t},_:e},T:{_:e}},D:{_:e},E:{" ":{_:e},C:{O:{_:t},R:{_:t},_:e},I:{_:e},O:{_:e}},F:{_:e},G:{_:e},H:{2:{_:e},3:{_:e},"-":{_:e}},I:{" ":{_:e}},J:{_:e},K:{_:e},L:{A:{_:t},I:{_:t},O:{_:t},_:e},M:{A:{_:t},E:{" ":{_:e},_:t},I:{_:t},_:e},N:{A:{_:t},E:{_:t},O:{_:t},_:e},O:{"(":{_:e},A:{" ":{_:e},I:{_:e}},E:{_:e},I:{_:e},S:{_:e},V:{_:e}},P:{A:{C:{_:t},D:{_:t},M:{_:t},N:{_:t},R:{_:t}},E:{" ":{_:e},_:t},I:{C:{_:t}},O:{_:t},U:{_:t},_:e},R:{_:e},S:{_:e},T:{"-":{_:e},A:{" ":{_:e}},B:{_:e},C:{_:e},D:{_:e},F:{_:e},L:{_:e},M:{_:e},S:{_:e},V:{_:e}},u:{r:{a:{" ":{_:e}}}},U:{B:{_:t},L:{_:t},N:{_:t},P:{_:t},S:{_:t},_:e},V:{_:e},W:{F:{_:e},P:{_:e},R:{_:e}},X:{S:{_:t},_:e}},t:{"-":{S:{_:e}},S:{_:e}},T:{a:{v:{e:{s:{_:e}}}},à:{_:e}},u:{"-":{_:t}," ":{_:t},'"':{_:t},".":{_:t},b:{e:{_:e},_:t},f:{_:t},k:{a:{_:e},_:t},l:{u:{_:t}},m:{" ":{_:t}},n:{" ":{_:t},a:{" ":{_:t},n:{a:{_:e},n:{_:e},s:{_:e},t:{_:e},_:t},r:{y:{_:t}}},e:{" ":{_:t}},i:{c:{o:{r:{p:{_:e}}}},d:{i:{_:t},_:e},m:{o:{_:t},_:e},n:{_:e},v:{o:{_:e}},_:t},l:{e:{s:{_:t}}}},p:{o:{_:t}},r:{a:{_:t},e:{_:t},i:{_:t},l:{_:t},o:{_:t}},s:{"-":{_:e}," ":{_:e},h:{_:e},_:t},t:{m:{_:e},t:{_:e},_:t},v:{_:t},w:{_:t},_:e},U:{1:{_:e},"-":{B:{o:{_:t},_:e}},a:{_:e},b:{i:{_:t},_:e},D:{P:{"-":{_:e}}},d:{_:e},g:{l:{_:e}},h:{_:e},i:{_:e},l:{i:{_:t},_:e},m:{_:e},M:{N:{_:e}},n:{"-":{_:e},a:{n:{_:t},_:e},b:{_:e},c:{_:e},d:{_:e},e:{s:{_:t},_:e},f:{_:e},g:{_:e},h:{_:e},i:{d:{_:e},n:{_:e}},k:{_:e},l:{_:e},m:{_:e},n:{_:e},o:{_:e},p:{_:e},r:{_:e},s:{_:e},t:{e:{r:{s:{_:t}}},_:e},u:{_:e},w:{_:e}},p:{_:e},r:{a:{_:t},i:{_:t},u:{g:{u:{a:{y:{a:{n:{"-":{_:e}}}}}}},k:{_:e},_:t},_:e},s:{h:{_:e},t:{_:e}},t:{n:{_:e},o:{"-":{_:e}},r:{_:e},t:{_:e}},x:{_:e},z:{_:e}},ü:{_:e},Ü:{_:e},V:{I:{I:{_:e}}},x:{a:{_:t},e:{_:t},i:{_:t},o:{_:t},x:{_:t},y:{_:t},_:e},X:{a:{_:t},A:{_:t},e:{_:t},h:{_:t},i:{_:t},I:{V:{_:t},X:{_:t}},o:{_:t},u:{_:t},U:{_:t},V:{_:t},X:{" ":{_:e},_:t},y:{_:t},_:e},Y:{p:{_:e}},α:{_:e},ε:{_:e},ω:{_:e}},o=function(s,_,c){var f;return _==null&&(_=n),c==null&&(c="a"),s==null?c:(f=s.slice(0,1),_=_[f],f!=null&&_!=null?o(s.slice(1),_,_._||c):c)},a=function(){var s,_,c;return _=1<=arguments.length?i.call(arguments,0):[],c=function(){var f,d,l;for(l=[],f=0,d=_.length;f<d;f++)s=_[f],s!=null&&l.push(o(s)+" "+s);return l}(),_.length===1?c[0]:c},Xe.exports={find:o,articlize:a}}).call(Tt);var Ve=Xe.exports;xt({decimal:".",thousands:",",grouping:[3],currency:["£",""]}).format;function zt(t,a=null,n="default"){t==="East"&&(t="East of England"),t=t.replace("&","and").replace(", City of","").replace(", County of","");let o="",e=t.toLowerCase(),i=e.startsWith("isle"),s=["united kingdom","north east","north west","east midlands","west midlands","east of england","south east","south west","derbyshire dales"].includes(e)||e.startsWith("city of")||e.startsWith("vale of");return["in","the"].includes(a)&&(i||s)&&(o="the "),a==="in"&&(i?o="on "+o:o="in "+o),n==="default"?o+t:o.slice(0,-1)}function It(t){const a=Object.keys(t),n=a.map(e=>e.toLowerCase());for(let e of["hclnm","areanm","name","label","areacd"]){let i=n.indexOf(e);if(i>-1)return a[i]}let o=n.find(e=>e.toLowerCase().slice(-2)==="nm");return o||a[0]}function Fe(t,a=null,n="default"){const o=It(t);return zt(t[o],a,n)}function kr(t){return t[0]?t[0].toUpperCase()+t.slice(1):t}const wr=(t,a="default")=>a==="default"?`${Ve.find(t)} ${t}`:Ve.find(t);var Pt={rgb2hsl:Q,rgb2hsv:ce,rgb2hwb:$,rgb2cmyk:ee,rgb2keyword:te,rgb2xyz:Ce,rgb2lab:Se,rgb2lch:Nt,hsl2rgb:ue,hsl2hsv:Dt,hsl2hwb:Ot,hsl2cmyk:Rt,hsl2keyword:jt,hsv2rgb:fe,hsv2hsl:Wt,hsv2hwb:Lt,hsv2cmyk:Ut,hsv2keyword:Vt,hwb2rgb:re,hwb2hsl:Ft,hwb2hsv:Gt,hwb2cmyk:Bt,hwb2keyword:Ht,cmyk2rgb:ne,cmyk2hsl:Kt,cmyk2hsv:qt,cmyk2hwb:Yt,cmyk2keyword:Xt,keyword2rgb:K,keyword2hsl:$t,keyword2hsv:er,keyword2hwb:tr,keyword2cmyk:rr,keyword2lab:nr,keyword2xyz:ar,xyz2rgb:Je,xyz2lab:Ze,xyz2lch:Jt,lab2xyz:Ae,lab2rgb:Qe,lab2lch:xe,lch2lab:Te,lch2xyz:Zt,lch2rgb:Qt};function Q(t){var a=t[0]/255,n=t[1]/255,o=t[2]/255,e=Math.min(a,n,o),i=Math.max(a,n,o),s=i-e,_,c,f;return i==e?_=0:a==i?_=(n-o)/s:n==i?_=2+(o-a)/s:o==i&&(_=4+(a-n)/s),_=Math.min(_*60,360),_<0&&(_+=360),f=(e+i)/2,i==e?c=0:f<=.5?c=s/(i+e):c=s/(2-i-e),[_,c*100,f*100]}function ce(t){var a=t[0],n=t[1],o=t[2],e=Math.min(a,n,o),i=Math.max(a,n,o),s=i-e,_,c,f;return i==0?c=0:c=s/i*1e3/10,i==e?_=0:a==i?_=(n-o)/s:n==i?_=2+(o-a)/s:o==i&&(_=4+(a-n)/s),_=Math.min(_*60,360),_<0&&(_+=360),f=i/255*1e3/10,[_,c,f]}function $(t){var a=t[0],n=t[1],i=t[2],o=Q(t)[0],e=1/255*Math.min(a,Math.min(n,i)),i=1-1/255*Math.max(a,Math.max(n,i));return[o,e*100,i*100]}function ee(t){var a=t[0]/255,n=t[1]/255,o=t[2]/255,e,i,s,_;return _=Math.min(1-a,1-n,1-o),e=(1-a-_)/(1-_)||0,i=(1-n-_)/(1-_)||0,s=(1-o-_)/(1-_)||0,[e*100,i*100,s*100,_*100]}function te(t){return $e[JSON.stringify(t)]}function Ce(t){var a=t[0]/255,n=t[1]/255,o=t[2]/255;a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,o=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92;var e=a*.4124+n*.3576+o*.1805,i=a*.2126+n*.7152+o*.0722,s=a*.0193+n*.1192+o*.9505;return[e*100,i*100,s*100]}function Se(t){var a=Ce(t),n=a[0],o=a[1],e=a[2],i,s,_;return n/=95.047,o/=100,e/=108.883,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,i=116*o-16,s=500*(n-o),_=200*(o-e),[i,s,_]}function Nt(t){return xe(Se(t))}function ue(t){var a=t[0]/360,n=t[1]/100,o=t[2]/100,e,i,s,_,c;if(n==0)return c=o*255,[c,c,c];o<.5?i=o*(1+n):i=o+n-o*n,e=2*o-i,_=[0,0,0];for(var f=0;f<3;f++)s=a+1/3*-(f-1),s<0&&s++,s>1&&s--,6*s<1?c=e+(i-e)*6*s:2*s<1?c=i:3*s<2?c=e+(i-e)*(2/3-s)*6:c=e,_[f]=c*255;return _}function Dt(t){var a=t[0],n=t[1]/100,o=t[2]/100,e,i;return o===0?[0,0,0]:(o*=2,n*=o<=1?o:2-o,i=(o+n)/2,e=2*n/(o+n),[a,e*100,i*100])}function Ot(t){return $(ue(t))}function Rt(t){return ee(ue(t))}function jt(t){return te(ue(t))}function fe(t){var a=t[0]/60,n=t[1]/100,c=t[2]/100,o=Math.floor(a)%6,e=a-Math.floor(a),i=255*c*(1-n),s=255*c*(1-n*e),_=255*c*(1-n*(1-e)),c=255*c;switch(o){case 0:return[c,_,i];case 1:return[s,c,i];case 2:return[i,c,_];case 3:return[i,s,c];case 4:return[_,i,c];case 5:return[c,i,s]}}function Wt(t){var a=t[0],n=t[1]/100,o=t[2]/100,e,i;return i=(2-n)*o,e=n*o,e/=i<=1?i:2-i,e=e||0,i/=2,[a,e*100,i*100]}function Lt(t){return $(fe(t))}function Ut(t){return ee(fe(t))}function Vt(t){return te(fe(t))}function re(t){var a=t[0]/360,n=t[1]/100,o=t[2]/100,e=n+o,i,s,_,c;switch(e>1&&(n/=e,o/=e),i=Math.floor(6*a),s=1-o,_=6*a-i,i&1&&(_=1-_),c=n+_*(s-n),i){default:case 6:case 0:r=s,g=c,b=n;break;case 1:r=c,g=s,b=n;break;case 2:r=n,g=s,b=c;break;case 3:r=n,g=c,b=s;break;case 4:r=c,g=n,b=s;break;case 5:r=s,g=n,b=c;break}return[r*255,g*255,b*255]}function Ft(t){return Q(re(t))}function Gt(t){return ce(re(t))}function Bt(t){return ee(re(t))}function Ht(t){return te(re(t))}function ne(t){var a=t[0]/100,n=t[1]/100,o=t[2]/100,e=t[3]/100,i,s,_;return i=1-Math.min(1,a*(1-e)+e),s=1-Math.min(1,n*(1-e)+e),_=1-Math.min(1,o*(1-e)+e),[i*255,s*255,_*255]}function Kt(t){return Q(ne(t))}function qt(t){return ce(ne(t))}function Yt(t){return $(ne(t))}function Xt(t){return te(ne(t))}function Je(t){var a=t[0]/100,n=t[1]/100,o=t[2]/100,e,i,s;return e=a*3.2406+n*-1.5372+o*-.4986,i=a*-.9689+n*1.8758+o*.0415,s=a*.0557+n*-.204+o*1.057,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e=e*12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i=i*12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,e=Math.min(Math.max(0,e),1),i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),[e*255,i*255,s*255]}function Ze(t){var a=t[0],n=t[1],o=t[2],e,i,s;return a/=95.047,n/=100,o/=108.883,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,e=116*n-16,i=500*(a-n),s=200*(n-o),[e,i,s]}function Jt(t){return xe(Ze(t))}function Ae(t){var a=t[0],n=t[1],o=t[2],e,i,s,_;return a<=8?(i=a*100/903.3,_=7.787*(i/100)+16/116):(i=100*Math.pow((a+16)/116,3),_=Math.pow(i/100,1/3)),e=e/95.047<=.008856?e=95.047*(n/500+_-16/116)/7.787:95.047*Math.pow(n/500+_,3),s=s/108.883<=.008859?s=108.883*(_-o/200-16/116)/7.787:108.883*Math.pow(_-o/200,3),[e,i,s]}function xe(t){var a=t[0],n=t[1],o=t[2],e,i,s;return e=Math.atan2(o,n),i=e*360/2/Math.PI,i<0&&(i+=360),s=Math.sqrt(n*n+o*o),[a,s,i]}function Qe(t){return Je(Ae(t))}function Te(t){var a=t[0],n=t[1],o=t[2],e,i,s;return s=o/360*2*Math.PI,e=n*Math.cos(s),i=n*Math.sin(s),[a,e,i]}function Zt(t){return Ae(Te(t))}function Qt(t){return Qe(Te(t))}function K(t){return Ee[t]}function $t(t){return Q(K(t))}function er(t){return ce(K(t))}function tr(t){return $(K(t))}function rr(t){return ee(K(t))}function nr(t){return Se(K(t))}function ar(t){return Ce(K(t))}var Ee={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},$e={};for(var Ge in Ee)$e[JSON.stringify(Ee[Ge])]=Ge;var ye=Pt,Y=function(){return new ae};for(var Z in ye){Y[Z+"Raw"]=function(t){return function(a){return typeof a=="number"&&(a=Array.prototype.slice.call(arguments)),ye[t](a)}}(Z);var Be=/(\w+)2(\w+)/.exec(Z),ge=Be[1],or=Be[2];Y[ge]=Y[ge]||{},Y[ge][or]=Y[Z]=function(t){return function(a){typeof a=="number"&&(a=Array.prototype.slice.call(arguments));var n=ye[t](a);if(typeof n=="string"||n===void 0)return n;for(var o=0;o<n.length;o++)n[o]=Math.round(n[o]);return n}}(Z)}var ae=function(){this.convs={}};ae.prototype.routeSpace=function(t,a){var n=a[0];return n===void 0?this.getValues(t):(typeof n=="number"&&(n=Array.prototype.slice.call(a)),this.setValues(t,n))};ae.prototype.setValues=function(t,a){return this.space=t,this.convs={},this.convs[t]=a,this};ae.prototype.getValues=function(t){var a=this.convs[t];if(!a){var n=this.space,o=this.convs[n];a=Y[n][t](o),this.convs[t]=a}return a};["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){ae.prototype[t]=function(a){return this.routeSpace(t,arguments)}});const Er="https://www.ons.gov.uk/visualisations/areas",ir="https://ons-dp-prod-cdn.s3.eu-west-2.amazonaws.com/maptiles/ap-geos/v2",sr={W04:{label:"community",plural:"communities",childGroup:!0},E06:{label:"unitary authority",plural:"unitary authorities"},W06:{label:"unitary authority",plural:"unitary authorities",childGroup:!0},E07:{label:"non-metropolitan district",plural:"non-metropolitan districts",childGroup:!0},E08:{label:"metropolitan district",plural:"metropolitan districts"},E09:{label:"borough",plural:"boroughs",childGroup:!0},E10:{label:"county",plural:"counties"},E11:{label:"metropolitan county",plural:"metropolital counties"},S12:{label:"council area",plural:"council areas",childGroup:!0},N09:{label:"local government district",plural:"local government districts",childGroup:!0}},_r=["E00","W00","E01","W01","E02","W02","E04","W04","E05","W05"],lr=[{id:"uk",type:"geojson"},{id:"ctry",type:"geojson"},{id:"rgn",type:"geojson"},{id:"la",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2023/authorities-all/v1/boundaries/{z}/{x}/{y}.pbf",layer:"boundaries",minzoom:4},{id:"wpc",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2010/wpc/v2/boundaries/{z}/{x}/{y}.pbf",layer:"boundaries",minzoom:4},{id:"sener",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2022/sen/v1/boundaries/{z}/{x}/{y}.pbf",layer:"region"},{id:"senc",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2022/sen/v1/boundaries/{z}/{x}/{y}.pbf",layer:"constituency"},{id:"wd",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2023/wd/v1/boundaries/{z}/{x}/{y}.pbf",layer:"boundaries",minzoom:6},{id:"par",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2022/par/v1/boundaries/{z}/{x}/{y}.pbf",layer:"par",minzoom:6},{id:"msoa",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2021/msoa/v2/boundaries/{z}/{x}/{y}.pbf",layer:"msoa",minzoom:6},{id:"lsoa",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2021/lsoa/v2/boundaries/{z}/{x}/{y}.pbf",layer:"lsoa",minzoom:7},{id:"oa",type:"vector",url:"https://cdn.ons.gov.uk/maptiles/administrative/2021/oa/v2/boundaries/{z}/{x}/{y}.pbf",layer:"oa",minzoom:8}],be=t=>t.map(a=>["!",["in",a,["get","areacd"]]]),de=[{key:"uk",codes:["K02"],source:"uk"},{key:"ctry",codes:["E92","S92","N92","W92"],pcio:"country",label:"country",plural:"countries",source:"ctry"},{key:"rgn",codes:["E12"],pcio:"region",label:"region",plural:"regions",source:"rgn"},{key:"cauth",codes:["E06","E09","E10","E47","N09","S12","W06"],label:"upper-tier/combined authority",plural:"upper-tier/combined authorities",source:"la",filter:["all",...be(["E07","E08"]),["!",["==",["get","cauth"],"true"]]]},{key:"utla",codes:["E06","E08","E09","E10","N09","S12","W06"],pcio:"admin_county",label:"upper-tier/unitary authority",plural:"upper-tier/unitary authorities",source:"la",filter:["all",...be(["E07","E47"])]},{key:"ltla",codes:["E06","E07","E08","E09","N09","S12","W06"],pcio:"admin_district",label:"lower-tier/unitary authority",plural:"lower-tier/unitary authorities",source:"la",filter:["all",...be(["E10","E47"])]},{key:"wpc",codes:["E14","N06","S14","W07"],pcio:"parliamentary_constituency",label:"parliamentary constituency",plural:"parliamentary constituencies",source:"wpc"},{key:"sener",codes:["W10"],label:"Senedd electoral region",plural:"Senedd electoral regions",source:"sener"},{key:"senc",codes:["W09"],label:"Senedd constituency",plural:"Senedd constituencies",source:"senc"},{key:"wd",codes:["E05","W05"],pcio:"admin_ward",label:"ward",plural:"wards",source:"wd"},{key:"par",codes:["E04","W04"],pcio:"parish",label:"parish",plural:"parishes",source:"par"},{key:"msoa",codes:["E02","W02"],pcio:"msoa",label:"MSOA",plural:"MSOAs",source:"msoa"},{key:"lsoa",codes:["E01","W01"],pcio:"lsoa",label:"LSOA",plural:"LSOAs",source:"lsoa"},{key:"oa",codes:["E00","W00"],label:"output area",plural:"output areas",source:"oa"}],Mr=lr.map(t=>({...t,layers:de.filter(a=>a.source===t.id)})),_e=(()=>{let t={};return de.forEach(a=>a.codes.forEach(n=>{t[n]={...a};const o=sr[n];o!=null&&o.childGroup&&(t[n].label=o.label,t[n].plural=o.plural)})),t})();(()=>{let t={};return de.forEach(a=>t[a.key]=a),t})();const cr=(t,a=ht)=>dt(t.replace(/\uFEFF/,""),a);async function Cr(t,a=window.fetch){let o=await(await a(t)).text(),e=cr(o),i=e.columns.filter(s=>{e[0][s]&&String(e[0][s]).includes("|")});return e.forEach((s,_)=>{i.forEach(c=>{s[c]=s[c].split("|")})}),e}function ur(t){let a=Array.from(new Set(t.sort((e,i)=>e.localeCompare(i)).map(e=>_e[e]))).filter((e,i,s)=>s.map(_=>_.key).indexOf(e.key)===i);const n=["cauth","utla","ltla"].filter(e=>a.map(i=>i.key).includes(e));n.length>1&&(a=a.filter(e=>!n.slice(1).includes(e.key)));const o=de.map(e=>e.key);return a.sort((e,i)=>o.indexOf(e.key)-o.indexOf(i.key))}async function Sr(t,a=window.fetch){try{let n=t.slice(0,3),e=await(await a(`${ir}/${n}/${t}.json`)).json();return e.properties.childTypes=ur(e.properties.child_typecds),{place:e.properties,type:_e[n],geometry:e.properties.end?e.geometry:null}}catch(n){return console.debug(n),{place:null,type:null}}}const et=(t,a)=>!a||(!t.start||a>t.start)&&(!t.end||a<=t.end);function He(t,a){var o;const n=[...a.parents];["E","W"].includes(a.areacd[0])&&n.push({areacd:"K04000001",areanm:"England and Wales"});for(const e of n){let i=e.areacd.slice(0,3);if(t.geocodes.includes(i)&&et(e,t.year))return e.groupcd=(o=_e[i])!=null&&o.key?_e[i].key:"ew",e}return null}function Ar(t,a){let n=[],o=[];return t.forEach(e=>{let i=He(e,a);e.geocodes.includes(a.typecd)&&et(a,e.year)?n.push({...e,place:a}):i&&o.push({...e,place:He(e,a)})}),[...n,...o]}function xr(t,a){let n=t,o=t.match(new RegExp(/\{(.*?)\}/g));return Array.isArray(o)&&o.forEach(e=>{if(e.includes("name")){let i=e.slice(1,-1).split(",")[1];n=n.replace(e,`${Fe(a,i,"prefix")} <strong>${Fe(a)}</strong>`)}else n=n.replace(e,a[e.slice(1,-1)])}),n}function Tr(t){return _r.includes(t.slice(0,3))?"area/?code="+t:t+"/"}function zr(t,a){const n=a.key==="msoa"?"hclnm":a.key==="oa"?"areacd":"areanm";return t.children.filter(o=>a.codes.includes(o.areacd.slice(0,3))).sort((o,e)=>o[n].localeCompare(e[n]))}function Ir(t,a){return bt(t,a)}function Pr(t){return t[0].toUpperCase()+t.slice(1)}function Ke(t){let a,n;function o(s,_){return s[1]?fr:dr}let e=o(t),i=e(t);return{c(){a=x("section"),n=x("form"),i.c(),this.h()},l(s){a=T(s,"SECTION",{});var _=z(a);n=T(_,"FORM",{id:!0,class:!0,"aria-label":!0});var c=z(n);i.l(c),c.forEach(S),_.forEach(S),this.h()},h(){C(n,"id","global-cookie-message"),C(n,"class","cookies-banner clearfix svelte-nl7vav"),C(n,"aria-label","cookie banner")},m(s,_){le(s,a,_),E(a,n),i.m(n,null)},p(s,_){e===(e=o(s))&&i?i.p(s,_):(i.d(1),i=e(s),i&&(i.c(),i.m(n,null)))},d(s){s&&S(a),i.d()}}}function fr(t){let a,n,o,e,i,s,_,c,f,d,l,u,m,p,y;return{c(){a=x("div"),n=x("div"),o=x("div"),e=x("div"),i=x("p"),s=W("You’ve accepted "),_=W(t[2]),c=W(` cookies. You can\r
              `),f=x("a"),d=W("change your cookie settings"),l=W(`\r
              at any time.\r
              `),u=x("button"),m=W("Hide"),this.h()},l(h){a=T(h,"DIV",{});var M=z(a);n=T(M,"DIV",{class:!0});var A=z(n);o=T(A,"DIV",{class:!0});var k=z(o);e=T(k,"DIV",{class:!0});var P=z(e);i=T(P,"P",{class:!0});var w=z(i);s=L(w,"You’ve accepted "),_=L(w,t[2]),c=L(w,` cookies. You can\r
              `),f=T(w,"A",{href:!0,class:!0});var N=z(f);d=L(N,"change your cookie settings"),N.forEach(S),l=L(w,`\r
              at any time.\r
              `),u=T(w,"BUTTON",{type:!0,class:!0});var I=z(u);m=L(I,"Hide"),I.forEach(S),w.forEach(S),P.forEach(S),k.forEach(S),A.forEach(S),M.forEach(S),this.h()},h(){C(f,"href","/cookies"),C(f,"class","svelte-nl7vav"),C(u,"type","button"),C(u,"class","cookies-banner__button--hide svelte-nl7vav"),C(i,"class","cookies-banner__confirmation-message svelte-nl7vav"),C(e,"class","cookies-banner__message font-size--18 svelte-nl7vav"),C(o,"class","col svelte-nl7vav"),C(n,"class","cookies-banner__wrapper wrapper svelte-nl7vav")},m(h,M){le(h,a,M),E(a,n),E(n,o),E(o,e),E(e,i),E(i,s),E(i,_),E(i,c),E(i,f),E(f,d),E(i,l),E(i,u),E(u,m),p||(y=ke(u,"click",t[9]),p=!0)},p(h,M){M&4&&it(_,h[2])},d(h){h&&S(a),p=!1,y()}}}function dr(t){let a,n,o,e,i,s,_,c,f,d,l,u,m,p,y,h,M,A,k,P,w,N;return{c(){a=x("div"),n=x("div"),o=x("div"),e=x("h1"),i=W("Tell us whether you accept cookies"),s=oe(),_=x("p"),c=W(`We would like to\r
            use cookies to collect anonymous information\r
            about how you use this prototype.`),f=oe(),d=x("p"),l=W("We use this information to improve our services."),u=oe(),m=x("div"),p=x("div"),y=x("button"),h=W("Accept cookies"),M=oe(),A=x("div"),k=x("button"),P=W("Reject cookies"),this.h()},l(I){a=T(I,"DIV",{class:!0});var R=z(a);n=T(R,"DIV",{});var q=z(n);o=T(q,"DIV",{class:!0});var V=z(o);e=T(V,"H1",{class:!0});var v=z(e);i=L(v,"Tell us whether you accept cookies"),v.forEach(S),s=ie(V),_=T(V,"P",{class:!0});var U=z(_);c=L(U,`We would like to\r
            use cookies to collect anonymous information\r
            about how you use this prototype.`),U.forEach(S),f=ie(V),d=T(V,"P",{class:!0});var D=z(d);l=L(D,"We use this information to improve our services."),D.forEach(S),V.forEach(S),u=ie(q),m=T(q,"DIV",{class:!0});var j=z(m);p=T(j,"DIV",{class:!0});var X=z(p);y=T(X,"BUTTON",{class:!0,"data-gtm-accept-cookies":!0,type:!0});var G=z(y);h=L(G,"Accept cookies"),G.forEach(S),X.forEach(S),M=ie(j),A=T(j,"DIV",{class:!0});var B=z(A);k=T(B,"BUTTON",{class:!0,"data-gtm-accept-cookies":!0});var H=z(k);P=L(H,"Reject cookies"),H.forEach(S),B.forEach(S),j.forEach(S),q.forEach(S),R.forEach(S),this.h()},h(){C(e,"class","cookies-banner__heading font-size--h3 svelte-nl7vav"),C(_,"class","cookies-banner__body svelte-nl7vav"),C(d,"class","cookies-banner__body svelte-nl7vav"),C(o,"class","cookies-banner__message font-size--18 svelte-nl7vav"),C(y,"class","btn btn--full-width btn--primary btn--focus margin-right--2 font-weight-700 font-size--17 text-wrap svelte-nl7vav"),C(y,"data-gtm-accept-cookies","true"),C(y,"type","submit"),C(p,"class","cookies-banner__button cookies-banner__button--accept svelte-nl7vav"),C(k,"class","btn btn--full-width btn--secondary btn--focus font-weight-700 font-size--17 text-wrap svelte-nl7vav"),C(k,"data-gtm-accept-cookies","true"),C(A,"class","cookies-banner__button svelte-nl7vav"),C(m,"class","cookies-banner__buttons svelte-nl7vav"),C(a,"class","cookies-banner__wrapper wrapper svelte-nl7vav")},m(I,R){le(I,a,R),E(a,n),E(n,o),E(o,e),E(e,i),E(o,s),E(o,_),E(_,c),E(o,f),E(o,d),E(d,l),E(n,u),E(n,m),E(m,p),E(p,y),E(y,h),E(m,M),E(m,A),E(A,k),E(k,P),w||(N=[ke(y,"click",Ie(t[7])),ke(k,"click",Ie(t[8]))],w=!0)},p:ve,d(I){I&&S(a),w=!1,st(N)}}}function hr(t){let a,n=t[0]&&Ke(t);return{c(){n&&n.c(),a=ze()},l(o){n&&n.l(o),a=ze()},m(o,e){n&&n.m(o,e),le(o,a,e)},p(o,[e]){o[0]?n?n.p(o,e):(n=Ke(o),n.c(),n.m(a.parentNode,a)):n&&(n.d(1),n=null)},i:ve,o:ve,d(o){n&&n.d(o),o&&S(a)}}}function Nr(t){window.dataLayer&&window.dataLayer.push(t)}function pr(){return-1<document.cookie.indexOf("cookies_preferences_set=true")}function mr(){var t=document.cookie.match(new RegExp("(^|;) ?cookies_policy=([^;]*)(;|$)"));if(t){var a=decodeURIComponent(t[2]),n=JSON.parse(a);return n.usage}return!1}function yr(t,a,n){let o;at(t,Pe,h=>n(12,o=h));let{analyticsId:e}=a,{analyticsProps:i={}}=a,{usageCookies:s=!1}=a,_,c=!1,f=!1,d="";function l(h){let M=31536e3,A=window.location.hostname,k=!0,P=`%7B%22essential%22%3Atrue%2C%22usage%22%3A${h=="all"?"true":"false"}%7D`,w="/";document.cookie=`cookies_preferences_set=${k};max-age=${M};domain=${A};path=${w};`,document.cookie=`cookies_policy=${P};max-age=${M};domain=${A};path=${w};`,n(2,d=h=="all"?"all":"only essential"),h=="all"&&n(4,s=!0),n(1,f=!0),h=="all"&&u()}function u(){console.log("initialising analytics"),window.dataLayer=[{analyticsOptOut:!1,"gtm.whitelist":["google","hjtc","lcl"],"gtm.blacklist":["customScripts","sp","adm","awct","k","d","j"],...i}],Pe&&o.url.href,function(h,M,A,k,P){h[k]=h[k]||[],h[k].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var w=M.head,N=M.createElement(A),I=k!="dataLayer"?"&l="+k:"";N.async=!0,N.src="https://www.googletagmanager.com/gtm.js?id="+P+I,w.appendChild(N)}(window,document,"script","dataLayer",e)}ot(()=>{_=!0,n(0,c=!pr()),n(4,s=mr()),s&&_&&u()});const m=()=>l("all"),p=()=>l("reject"),y=()=>n(0,c=!1);return t.$$set=h=>{"analyticsId"in h&&n(5,e=h.analyticsId),"analyticsProps"in h&&n(6,i=h.analyticsProps),"usageCookies"in h&&n(4,s=h.usageCookies)},[c,f,d,l,s,e,i,m,p,y]}class Dr extends tt{constructor(a){super(),rt(this,a,yr,hr,nt,{analyticsId:5,analyticsProps:6,usageCookies:4})}}export{Dr as A,Er as a,Nr as b,_e as c,Sr as d,Tt as e,vr as f,Cr as g,Ar as h,Fe as i,kr as j,wr as k,Mr as l,Tr as m,_r as n,Ir as o,xr as p,zr as q,Pr as r,de as s,sr as t};
