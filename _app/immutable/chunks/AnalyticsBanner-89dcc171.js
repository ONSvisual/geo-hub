import{S as Z,i as $,s as ee,e as G,b as L,N as U,h as r,a0 as te,o as se,k as v,l as f,m as _,n as i,M as o,q as P,r as V,R as Y,u as oe,a as R,c as z,T as K,V as ae}from"./singletons-39e1e026.js";import{p as Q}from"./stores-d4728b79.js";function X(d){let t,e;function s(c,u){return c[1]?ne:le}let l=s(d),a=l(d);return{c(){t=v("section"),e=v("form"),a.c(),this.h()},l(c){t=f(c,"SECTION",{});var u=_(t);e=f(u,"FORM",{id:!0,class:!0,"aria-label":!0});var b=_(e);a.l(b),b.forEach(r),u.forEach(r),this.h()},h(){i(e,"id","global-cookie-message"),i(e,"class","cookies-banner clearfix svelte-nl7vav"),i(e,"aria-label","cookie banner")},m(c,u){L(c,t,u),o(t,e),a.m(e,null)},p(c,u){l===(l=s(c))&&a?a.p(c,u):(a.d(1),a=l(c),a&&(a.c(),a.m(e,null)))},d(c){c&&r(t),a.d()}}}function ne(d){let t,e,s,l,a,c,u,b,y,I,D,k,g,C,w;return{c(){t=v("div"),e=v("div"),s=v("div"),l=v("div"),a=v("p"),c=P("You’ve accepted "),u=P(d[2]),b=P(` cookies. You can\r
              `),y=v("a"),I=P("change your cookie settings"),D=P(`\r
              at any time.\r
              `),k=v("button"),g=P("Hide"),this.h()},l(n){t=f(n,"DIV",{});var m=_(t);e=f(m,"DIV",{class:!0});var E=_(e);s=f(E,"DIV",{class:!0});var h=_(s);l=f(h,"DIV",{class:!0});var T=_(l);a=f(T,"P",{class:!0});var p=_(a);c=V(p,"You’ve accepted "),u=V(p,d[2]),b=V(p,` cookies. You can\r
              `),y=f(p,"A",{href:!0,class:!0});var O=_(y);I=V(O,"change your cookie settings"),O.forEach(r),D=V(p,`\r
              at any time.\r
              `),k=f(p,"BUTTON",{type:!0,class:!0});var A=_(k);g=V(A,"Hide"),A.forEach(r),p.forEach(r),T.forEach(r),h.forEach(r),E.forEach(r),m.forEach(r),this.h()},h(){i(y,"href","/cookies"),i(y,"class","svelte-nl7vav"),i(k,"type","button"),i(k,"class","cookies-banner__button--hide svelte-nl7vav"),i(a,"class","cookies-banner__confirmation-message svelte-nl7vav"),i(l,"class","cookies-banner__message font-size--18 svelte-nl7vav"),i(s,"class","col svelte-nl7vav"),i(e,"class","cookies-banner__wrapper wrapper svelte-nl7vav")},m(n,m){L(n,t,m),o(t,e),o(e,s),o(s,l),o(l,a),o(a,c),o(a,u),o(a,b),o(a,y),o(y,I),o(a,D),o(a,k),o(k,g),C||(w=Y(k,"click",d[9]),C=!0)},p(n,m){m&4&&oe(u,n[2])},d(n){n&&r(t),C=!1,w()}}}function le(d){let t,e,s,l,a,c,u,b,y,I,D,k,g,C,w,n,m,E,h,T,p,O;return{c(){t=v("div"),e=v("div"),s=v("div"),l=v("h1"),a=P("Tell us whether you accept cookies"),c=R(),u=v("p"),b=P(`We would like to\r
            use cookies to collect anonymous information\r
            about how you use this prototype.`),y=R(),I=v("p"),D=P("We use this information to improve our services."),k=R(),g=v("div"),C=v("div"),w=v("button"),n=P("Accept cookies"),m=R(),E=v("div"),h=v("button"),T=P("Reject cookies"),this.h()},l(A){t=f(A,"DIV",{class:!0});var B=_(t);e=f(B,"DIV",{});var N=_(e);s=f(N,"DIV",{class:!0});var j=_(s);l=f(j,"H1",{class:!0});var W=_(l);a=V(W,"Tell us whether you accept cookies"),W.forEach(r),c=z(j),u=f(j,"P",{class:!0});var H=_(u);b=V(H,`We would like to\r
            use cookies to collect anonymous information\r
            about how you use this prototype.`),H.forEach(r),y=z(j),I=f(j,"P",{class:!0});var M=_(I);D=V(M,"We use this information to improve our services."),M.forEach(r),j.forEach(r),k=z(N),g=f(N,"DIV",{class:!0});var S=_(g);C=f(S,"DIV",{class:!0});var q=_(C);w=f(q,"BUTTON",{class:!0,"data-gtm-accept-cookies":!0,type:!0});var x=_(w);n=V(x,"Accept cookies"),x.forEach(r),q.forEach(r),m=z(S),E=f(S,"DIV",{class:!0});var F=_(E);h=f(F,"BUTTON",{class:!0,"data-gtm-accept-cookies":!0});var J=_(h);T=V(J,"Reject cookies"),J.forEach(r),F.forEach(r),S.forEach(r),N.forEach(r),B.forEach(r),this.h()},h(){i(l,"class","cookies-banner__heading font-size--h3 svelte-nl7vav"),i(u,"class","cookies-banner__body svelte-nl7vav"),i(I,"class","cookies-banner__body svelte-nl7vav"),i(s,"class","cookies-banner__message font-size--18 svelte-nl7vav"),i(w,"class","btn btn--full-width btn--primary btn--focus margin-right--2 font-weight-700 font-size--17 text-wrap svelte-nl7vav"),i(w,"data-gtm-accept-cookies","true"),i(w,"type","submit"),i(C,"class","cookies-banner__button cookies-banner__button--accept svelte-nl7vav"),i(h,"class","btn btn--full-width btn--secondary btn--focus font-weight-700 font-size--17 text-wrap svelte-nl7vav"),i(h,"data-gtm-accept-cookies","true"),i(E,"class","cookies-banner__button svelte-nl7vav"),i(g,"class","cookies-banner__buttons svelte-nl7vav"),i(t,"class","cookies-banner__wrapper wrapper svelte-nl7vav")},m(A,B){L(A,t,B),o(t,e),o(e,s),o(s,l),o(l,a),o(s,c),o(s,u),o(u,b),o(s,y),o(s,I),o(I,D),o(e,k),o(e,g),o(g,C),o(C,w),o(w,n),o(g,m),o(g,E),o(E,h),o(h,T),p||(O=[Y(w,"click",K(d[7])),Y(h,"click",K(d[8]))],p=!0)},p:U,d(A){A&&r(t),p=!1,ae(O)}}}function ce(d){let t,e=d[0]&&X(d);return{c(){e&&e.c(),t=G()},l(s){e&&e.l(s),t=G()},m(s,l){e&&e.m(s,l),L(s,t,l)},p(s,[l]){s[0]?e?e.p(s,l):(e=X(s),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:U,o:U,d(s){e&&e.d(s),s&&r(t)}}}function fe(d){window.dataLayer&&window.dataLayer.push(d)}function ie(){return-1<document.cookie.indexOf("cookies_preferences_set=true")}function re(){var d=document.cookie.match(new RegExp("(^|;) ?cookies_policy=([^;]*)(;|$)"));if(d){var t=decodeURIComponent(d[2]),e=JSON.parse(t);return e.usage}return!1}function ue(d,t,e){let s;te(d,Q,n=>e(12,s=n));let{analyticsId:l}=t,{analyticsProps:a={}}=t,{usageCookies:c=!1}=t,u,b=!1,y=!1,I="";function D(n){let m=31536e3,E=window.location.hostname,h=!0,T=`%7B%22essential%22%3Atrue%2C%22usage%22%3A${n=="all"?"true":"false"}%7D`,p="/";document.cookie=`cookies_preferences_set=${h};max-age=${m};domain=${E};path=${p};`,document.cookie=`cookies_policy=${T};max-age=${m};domain=${E};path=${p};`,e(2,I=n=="all"?"all":"only essential"),n=="all"&&e(4,c=!0),e(1,y=!0),n=="all"&&k()}function k(){console.log("initialising analytics"),window.dataLayer=[{analyticsOptOut:!1,"gtm.whitelist":["google","hjtc","lcl"],"gtm.blacklist":["customScripts","sp","adm","awct","k","d","j"],...a}],Q&&s.url.href,function(n,m,E,h,T){n[h]=n[h]||[],n[h].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var p=m.head,O=m.createElement(E),A=h!="dataLayer"?"&l="+h:"";O.async=!0,O.src="https://www.googletagmanager.com/gtm.js?id="+T+A,p.appendChild(O)}(window,document,"script","dataLayer",l)}se(()=>{u=!0,e(0,b=!ie()),e(4,c=re()),c&&u&&k()});const g=()=>D("all"),C=()=>D("reject"),w=()=>e(0,b=!1);return d.$$set=n=>{"analyticsId"in n&&e(5,l=n.analyticsId),"analyticsProps"in n&&e(6,a=n.analyticsProps),"usageCookies"in n&&e(4,c=n.usageCookies)},[b,y,I,D,c,l,a,g,C,w]}class _e extends Z{constructor(t){super(),$(this,t,ue,ce,ee,{analyticsId:5,analyticsProps:6,usageCookies:4})}}export{_e as A,fe as a};
