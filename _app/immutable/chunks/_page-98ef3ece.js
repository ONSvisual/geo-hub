import{c as h,g as i,a as c}from"./config-ce11cd2b.js";async function g({fetch:n,params:d,parent:u}){const p=await u();let y=p.places,f=p.lookup,t=null,s=null,r=d.code.replaceAll("/","");if(r.length===9){let l=r.slice(0,3),e=await(await n(`${h}/${l}/${r}.json`)).json();i[l]&&(e.properties.typenm=i[l].label);let a=e.properties.children[0]?Array.from(new Set(e.properties.children.map(o=>o.areacd.slice(0,3)))):null;e.properties.childTypes=a?Array.from(new Set(a.map(o=>c[o]))):[],l==="E12"&&(e.properties.childTypes=e.properties.childTypes.filter(o=>o.key!=="lad"),r==="E12000007"&&(e.properties.childTypes=[{key:"lad",codes:["E09"],label:"borough",plural:"boroughs"},...e.properties.childTypes])),t=e.properties,s=c[l]}return{places:y,lookup:f,place:t,type:s}}const T=Object.freeze(Object.defineProperty({__proto__:null,load:g},Symbol.toStringTag,{value:"Module"}));export{T as _,g as l};
