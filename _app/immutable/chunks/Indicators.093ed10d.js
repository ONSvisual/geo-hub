import{s as R,a as E,c as B,i as H,d as _,I as K,f as w,l as N,g as k,h as S,m as A,j as I,F as P,C as g,n as C}from"./scheduler.0afccbf5.js";import{S as W,i as X,b as L,d as j,m as q,a as p,t as v,e as D,g as M,c as O}from"./index.bcdabb8d.js";import{e as F}from"./Table.svelte_svelte_type_style_lang.7216bae0.js";import{b as T}from"./paths.5d04170c.js";import{d as Y,b as Z,I as Q}from"./Icon.25c09ef9.js";import{c as U}from"./index.c6f66d7c.js";import{S as y}from"./Section.d2f408f9.js";function V(o,t,a){const s=o.slice();return s[6]=t[a],s[8]=a,s}function z(o,t,a){const s=o.slice();return s[9]=t[a],s}function G(o){let t,a,s,i=o[9].label+"",n,r,e,c,m,l=o[9].subtitle+"",$,h;return e=new Q({props:{type:"chevron",margin:"4px 0 0"}}),{c(){t=w("li"),a=w("a"),s=w("span"),n=N(i),r=E(),L(e.$$.fragment),m=E(),$=N(l),this.h()},l(u){t=k(u,"LI",{});var f=S(t);a=k(f,"A",{href:!0,class:!0});var d=S(a);s=k(d,"SPAN",{});var b=S(s);n=A(b,i),b.forEach(_),r=B(d),j(e.$$.fragment,d),d.forEach(_),m=B(f),$=A(f,l),f.forEach(_),this.h()},h(){I(a,"href",c=T+"/datasets/"+o[9].code+"/"),I(a,"class","indicator-link")},m(u,f){H(u,t,f),g(t,a),g(a,s),g(s,n),g(a,r),q(e,a,null),g(t,m),g(t,$),h=!0},p(u,f){(!h||f&1)&&i!==(i=u[9].label+"")&&C(n,i),(!h||f&1&&c!==(c=T+"/datasets/"+u[9].code+"/"))&&I(a,"href",c),(!h||f&1)&&l!==(l=u[9].subtitle+"")&&C($,l)},i(u){h||(p(e.$$.fragment,u),h=!0)},o(u){v(e.$$.fragment,u),h=!1},d(u){u&&_(t),D(e)}}}function J(o){let t,a,s=U(o[6])+"",i,n,r,e;function c(...h){return o[4](o[6],...h)}let m=F(o[0].indicators.filter(c)),l=[];for(let h=0;h<m.length;h+=1)l[h]=G(z(o,m,h));const $=h=>v(l[h],1,1,()=>{l[h]=null});return{c(){t=w("div"),a=w("h3"),i=N(s),n=E(),r=w("ul");for(let h=0;h<l.length;h+=1)l[h].c();this.h()},l(h){t=k(h,"DIV",{});var u=S(t);a=k(u,"H3",{class:!0});var f=S(a);i=A(f,s),f.forEach(_),n=B(u),r=k(u,"UL",{class:!0});var d=S(r);for(let b=0;b<l.length;b+=1)l[b].l(d);d.forEach(_),u.forEach(_),this.h()},h(){I(a,"class","title-indicators"),I(r,"class","list-columns list-indicators"),P(t,"visuallyhidden",!(o[3]||!o[1]&&o[8]===0))},m(h,u){H(h,t,u),g(t,a),g(a,i),g(t,n),g(t,r);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(r,null);e=!0},p(h,u){if(o=h,(!e||u&1)&&s!==(s=U(o[6])+"")&&C(i,s),u&1){m=F(o[0].indicators.filter(c));let f;for(f=0;f<m.length;f+=1){const d=z(o,m,f);l[f]?(l[f].p(d,u),p(l[f],1)):(l[f]=G(d),l[f].c(),p(l[f],1),l[f].m(r,null))}for(M(),f=m.length;f<l.length;f+=1)$(f);O()}(!e||u&10)&&P(t,"visuallyhidden",!(o[3]||!o[1]&&o[8]===0))},i(h){if(!e){for(let u=0;u<m.length;u+=1)p(l[u]);e=!0}},o(h){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)v(l[u]);e=!1},d(h){h&&_(t),K(l,h)}}}function x(o){let t=o[1]&&o[3]?"Hide datasets":o[1]?"Show datasets":o[3]?"Show fewer datasets":`Show all ${o[0].indicators.length} datasets`,a,s,i,n;return i=new Q({props:{type:"chevron",rotation:o[3]?90:-90}}),{c(){a=N(t),s=E(),L(i.$$.fragment)},l(r){a=A(r,t),s=B(r),j(i.$$.fragment,r)},m(r,e){H(r,a,e),H(r,s,e),q(i,r,e),n=!0},p(r,e){(!n||e&11)&&t!==(t=r[1]&&r[3]?"Hide datasets":r[1]?"Show datasets":r[3]?"Show fewer datasets":`Show all ${r[0].indicators.length} datasets`)&&C(a,t);const c={};e&8&&(c.rotation=r[3]?90:-90),i.$set(c)},i(r){n||(p(i.$$.fragment,r),n=!0)},o(r){v(i.$$.fragment,r),n=!1},d(r){r&&(_(a),_(s)),D(i,r)}}}function ee(o){let t,a,s,i=F(o[0].topics),n=[];for(let e=0;e<i.length;e+=1)n[e]=J(V(o,i,e));const r=e=>v(n[e],1,1,()=>{n[e]=null});return a=new Z({props:{variant:"ghost",small:!0,$$slots:{default:[x]},$$scope:{ctx:o}}}),a.$on("click",o[5]),{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=E(),L(a.$$.fragment)},l(e){for(let c=0;c<n.length;c+=1)n[c].l(e);t=B(e),j(a.$$.fragment,e)},m(e,c){for(let m=0;m<n.length;m+=1)n[m]&&n[m].m(e,c);H(e,t,c),q(a,e,c),s=!0},p(e,c){if(c&11){i=F(e[0].topics);let l;for(l=0;l<i.length;l+=1){const $=V(e,i,l);n[l]?(n[l].p($,c),p(n[l],1)):(n[l]=J($),n[l].c(),p(n[l],1),n[l].m(t.parentNode,t))}for(M(),l=i.length;l<n.length;l+=1)r(l);O()}const m={};c&4107&&(m.$$scope={dirty:c,ctx:e}),a.$set(m)},i(e){if(!s){for(let c=0;c<i.length;c+=1)p(n[c]);p(a.$$.fragment,e),s=!0}},o(e){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)v(n[c]);v(a.$$.fragment,e),s=!1},d(e){e&&_(t),K(n,e),D(a,e)}}}function te(o){let t,a;return t=new y({props:{title:o[2],theme:"dark",background:"#003c57",width:"wide",marginTop:!0,$$slots:{default:[ee]},$$scope:{ctx:o}}}),{c(){L(t.$$.fragment)},l(s){j(t.$$.fragment,s)},m(s,i){q(t,s,i),a=!0},p(s,[i]){const n={};i&4&&(n.title=s[2]),i&4107&&(n.$$scope={dirty:i,ctx:s}),t.$set(n)},i(s){a||(p(t.$$.fragment,s),a=!0)},o(s){v(t.$$.fragment,s),a=!1},d(s){D(t,s)}}}function ae(o,t,a){let{data:s}=t,{compact:i=!1}=t,{title:n="Fina a dataset"}=t,r=!1;Y(()=>a(3,r=!1));const e=(m,l)=>l.topic===m,c=()=>a(3,r=!r);return o.$$set=m=>{"data"in m&&a(0,s=m.data),"compact"in m&&a(1,i=m.compact),"title"in m&&a(2,n=m.title)},[s,i,n,r,e,c]}class ce extends W{constructor(t){super(),X(this,t,ae,te,R,{data:0,compact:1,title:2})}}export{ce as I};
